<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>少左 shouzo</title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="canonical" href="http://shouzo.github.io/blog/page5/">
    <link rel="alternate" type="application/rss+xml" title="少左 shouzo" href="http://shouzo.github.io /feed.xml ">



</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">少左 shouzo</a>
        <small>Be strong to Be useful！</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/blog/index.html">
                    
                        <i class="fa fa-home"></i>首頁 Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>內容 Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>分類 Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>標籤 Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>收藏 Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/demo/">
                        
                            <i class="fa fa-play"></i>展示 Demo
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-commenting"></i>關於 About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" index>
    <div class="left">
        <h1>Welcome to shouzo's Blog!</h1>
        <small>菜鳥的學習紀錄</small>
        <hr>
        <ul>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/04/06/ai/">20170406 [學習筆記] 人工智慧 (6)</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-04-06
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#人工智慧" title="Category: 人工智慧" rel="category">人工智慧</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#人工智慧" title="Tag: 人工智慧" rel="tag">人工智慧</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#一-fuzzy-建模-建立模型" id="markdown-toc-一-fuzzy-建模-建立模型">(一) Fuzzy 建模 (建立模型)</a></li>
</ul>

<ul>
  <li>參考資源
    <ul>
      <li><a href="http://fuzzy.cs.ovgu.de/ci/fs/">http://fuzzy.cs.ovgu.de/ci/fs/</a></li>
    </ul>
  </li>
</ul>

<h3 id="一-fuzzy-建模-建立模型">(一) Fuzzy 建模 (建立模型)</h3>
<ul>
  <li>
    <p>利用現有的輸入、輸出資料建立模型：<code class="highlighter-rouge">y = f(x1, x2)</code>。
<img src="https://i.imgur.com/F43zJRS.jpg" alt="" /></p>
  </li>
  <li>
    <p>規則表
<img src="https://i.imgur.com/GNcbx9m.jpg" alt="" /></p>
  </li>
</ul>

                </div>
                <div class="read-all">
                    <a  href="/2017/04/06/ai/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/04/03/university_interesting/">20170403 [有感而發] 求學就像是吃餅，怎麼可能一口氣吃得完？當然是要從最有興趣的地方開始慢慢吃啊！</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-04-03
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#未分類" title="Category: 未分類" rel="category">未分類</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#心情記事" title="Tag: 心情記事" rel="tag">心情記事</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#求學就像是吃一塊漫無邊際的大餅" id="markdown-toc-求學就像是吃一塊漫無邊際的大餅">求學，就像是吃一塊漫無邊際的大餅</a></li>
  <li><a href="#怎麼可能無所不知不懂就只能坦白承認啦" id="markdown-toc-怎麼可能無所不知不懂就只能坦白承認啦">怎麼可能無所不知？不懂就只能坦白承認啦！</a></li>
</ul>

<p><img src="https://i.imgur.com/DOD1Y4C.jpg" alt="" /></p>

<p>今天不談社團，來聊聊其他的。剛剛在看到 Jserv 在網路上發的一篇文：<a href="https://www.facebook.com/microjserv/posts/10155154029752389">https://www.facebook.com/microjserv/posts/10155154029752389</a></p>

<p>讓我聯想到之前國、高中上課發問時的情景 (通常得到的答覆和上文差不多)。但是直到現在大四下學期，我發現自己在大學系上課程中得知的東西仍然有限。我可不希望以後詞窮被問了類似的問題 (以下對話參考自上方連結之原文)：</p>

<p><strong>兒子好奇：「 爸，什麼是電腦？為什麼電腦可以運作？」</strong></p>

<p><strong>我卻只能回答：「 因為爸爸認真工作，乖乖繳交電費，讓你可以使用電腦。 」</strong></p>

<p><strong>兒子不爽：「 … 原來你大學讀電機資訊系就學這些啊，讀了書卻無法正面回答我的問題，這樣讀書有什麼意思呢？你自己讀書沒用，又何必要求我讀書呢？」</strong></p>

<p>上述情境當然有很多地方值得探討，但是以 <strong>「 在體制教育內的求學期間不知道學了些什麼 」</strong> 這個面向來看卻格外諷刺…</p>

<p>而我後來在進行一些更深入的實作和研究時，漸漸發現某些科目學問存在的重要性 (各個領域之間其實彼此都相互連結)。但是那些科目當初在授課時 <strong>「 根本沒有學過 」，</strong> 或者教授說 <strong>「 那些東西在研究所時才會教 」</strong> …。</p>

<p>這時候又會想到那一句老話：「 師父領進門，修行在個人。」我個人認為這句話不完全正確，要是遇到那種 <strong>「 師父不引你進門，卻帶你用頭去撞門。」</strong> 的情況該怎麼辦呢？(還真的得算自己倒霉，認賠殺出？)</p>

<p>(… 唉，又講到傷心事了，回歸正題。)</p>

<h2 id="求學就像是吃一塊漫無邊際的大餅">求學，就像是吃一塊漫無邊際的大餅</h2>
<p>我以目前自己所在的電資領域為出發點，先摒除掉「 因為分數剛好，所以就到這裡 」、「 學非所願 」、「 唸到一半才發現這不是我想讀的科系 」…等等原因。</p>

<p>求學就像是吃一塊大得漫無邊際的餅，有無限種吃法，就看你自己想要怎麼吃。試著想像一下：「 這裡有一塊餅，你沒辦法一口氣吃完，該怎麼辦？」</p>

<p>廢話！這麼大塊的餅乾，怎麼可能一口氣吃得完？當然是要從你自己最有興趣的地方開始慢慢吃啊！</p>

<p>一門領域要學的東西有多少，才短短幾年怎麼可能全部都會？至少得從喜歡或者是一個不排斥的東西開始吧？</p>

<h2 id="怎麼可能無所不知不懂就只能坦白承認啦">怎麼可能無所不知？不懂就只能坦白承認啦！</h2>
<p>…回到最一開始的那一段對話，假設我真的不知道背後的原理，被這樣酸了：</p>

<p><strong>兒子不爽：「 … 原來你大學讀電機資訊系就學這些啊，讀了書卻無法正面回答我的問題，這樣讀書有什麼意思呢？你自己讀書沒用，又何必要求我讀書呢？」</strong></p>

<p>我希望這時候的我可以這樣回答：</p>

<p><strong>我：「 這個東西爸爸不懂，但是你不覺得這個問題很有趣嗎？我們一起來研究為什麼吧！ 」</strong></p>

<p><strong>求學讀書不應該是為了考試，而是為了要更加瞭解這個世界，同時也應該是一件發自內心想要去完成的事情。</strong></p>

                </div>
                <div class="read-all">
                    <a  href="/2017/04/03/university_interesting/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/03/31/linux_system/">20170331 [學習筆記] Linux 系統程式 (5)</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-03-31
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Linux" title="Category: Linux" rel="category">Linux</a>&nbsp;
    
        <a href="/category/#作業系統" title="Category: 作業系統" rel="category">作業系統</a>&nbsp;
    
        <a href="/category/#程式設計" title="Category: 程式設計" rel="category">程式設計</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Linux" title="Tag: Linux" rel="tag">Linux</a>&nbsp;
    
        <a href="/tag/#作業系統" title="Tag: 作業系統" rel="tag">作業系統</a>&nbsp;
    
        <a href="/tag/#程式設計" title="Tag: 程式設計" rel="tag">程式設計</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#一作業系統" id="markdown-toc-一作業系統">一、作業系統</a>    <ul>
      <li><a href="#一-thread-synchronization" id="markdown-toc-一-thread-synchronization">(一) Thread Synchronization</a></li>
      <li><a href="#1-semaphore" id="markdown-toc-1-semaphore">1. Semaphore</a>        <ul>
          <li><a href="#semaphoreh" id="markdown-toc-semaphoreh">semaphore.h</a>            <ul>
              <li><a href="#sem_init" id="markdown-toc-sem_init">sem_init()</a></li>
              <li><a href="#sem_wait" id="markdown-toc-sem_wait">sem_wait()</a></li>
              <li><a href="#sem_post" id="markdown-toc-sem_post">sem_post()</a></li>
              <li><a href="#sem_destroy" id="markdown-toc-sem_destroy">sem_destroy()</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#2-mutex" id="markdown-toc-2-mutex">2. Mutex</a>        <ul>
          <li><a href="#pthreadh" id="markdown-toc-pthreadh">pthread.h</a>            <ul>
              <li><a href="#pthread_mutex_init" id="markdown-toc-pthread_mutex_init">pthread_mutex_init()</a></li>
              <li><a href="#pthread_mutex_lock" id="markdown-toc-pthread_mutex_lock">pthread_mutex_lock()</a></li>
              <li><a href="#pthread_mutex_unlock" id="markdown-toc-pthread_mutex_unlock">pthread_mutex_unlock()</a></li>
              <li><a href="#pthread_mutex_destroy" id="markdown-toc-pthread_mutex_destroy">pthread_mutex_destroy()</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#3-condition-variables" id="markdown-toc-3-condition-variables">3. Condition Variables</a>        <ul>
          <li><a href="#pthread_cond_init-condition-attr" id="markdown-toc-pthread_cond_init-condition-attr">pthread_cond_init (condition, attr)</a></li>
          <li><a href="#pthread_cond_destroy-condition" id="markdown-toc-pthread_cond_destroy-condition">pthread_cond_destroy (condition)</a></li>
          <li><a href="#pthread_condattr_init-attr" id="markdown-toc-pthread_condattr_init-attr">pthread_condattr_init (attr)</a></li>
          <li><a href="#pthread_condattr_destroy-attr" id="markdown-toc-pthread_condattr_destroy-attr">pthread_condattr_destroy (attr)</a></li>
        </ul>
      </li>
      <li><a href="#4-barrier" id="markdown-toc-4-barrier">4. Barrier</a></li>
      <li><a href="#二-producer-consumer-problem" id="markdown-toc-二-producer-consumer-problem">(二) Producer-Consumer Problem</a>        <ul>
          <li><a href="#1-producer" id="markdown-toc-1-producer">1. Producer</a></li>
          <li><a href="#2-consumer" id="markdown-toc-2-consumer">2. Consumer</a></li>
        </ul>
      </li>
      <li><a href="#課程作業" id="markdown-toc-課程作業">課程作業</a></li>
    </ul>
  </li>
</ul>

<h2 id="一作業系統">一、作業系統</h2>
<ul>
  <li>課程簡報
    <ul>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170330/ch04.pdf">Chapter 4: Mutithread Programming</a></li>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170330/ch05.pdf">Chapter 5: Process Scheduling</a></li>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170330/Linux_programming_pthread.pdf">Linux_programming_pthread</a></li>
    </ul>
  </li>
  <li>參考資料
    <ul>
      <li><a href="https://hackmd.io/s/Skh_AaVix">Toward Concurrency</a></li>
      <li><a href="http://tuxthink.blogspot.tw/2013/01/using-condition-variables-in-pthreads.html">Using condition variables in pthreads</a></li>
    </ul>
  </li>
</ul>

<h3 id="一-thread-synchronization">(一) Thread Synchronization</h3>
<h3 id="1-semaphore">1. Semaphore</h3>
<h4 id="semaphoreh">semaphore.h</h4>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#include &lt;semaphore.h&gt;
</span>
<span class="kt">int</span> <span class="n">sem_init</span><span class="p">(</span><span class="n">sem_t</span> <span class="o">*</span><span class="n">sem</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pshared</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">value</span><span class="p">);</span>
<span class="c1">//create a semaphore
</span>

<span class="kt">int</span> <span class="n">sem_wait</span><span class="p">(</span><span class="n">sem_t</span> <span class="o">*</span><span class="n">sem</span><span class="p">);</span>
<span class="c1">//lock a semaphore
</span>

<span class="kt">int</span> <span class="n">sem_post</span><span class="p">(</span><span class="n">sem_t</span> <span class="o">*</span><span class="n">sem</span><span class="p">);</span>
<span class="c1">//unlock a semaphore
</span>

<span class="kt">int</span> <span class="n">sem_destroy</span><span class="p">(</span><span class="n">sem_t</span> <span class="o">*</span><span class="n">sem</span><span class="p">);</span>
<span class="c1">//delete a semaphore
</span></code></pre></div>

<h5 id="sem_init">sem_init()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">sem_init</span><span class="p">(</span><span class="n">sem_t</span> <span class="o">*</span><span class="n">sem</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pshared</span><span class="p">,</span> <span class="kt">unsigned</span>
<span class="kt">int</span> <span class="n">value</span><span class="p">);</span>
</code></pre></div>
<ul>
  <li><code class="highlighter-rouge">sem_t *sem</code>：semaphore 識別字</li>
  <li><code class="highlighter-rouge">int pshared</code>：設定為 0 表示僅供目前的 process 及其 thread 使用。非 0 表示此 semaphore 與其他 process 共用</li>
  <li><code class="highlighter-rouge">unsigned int value</code>：semaphore 的初始值</li>
</ul>

<h5 id="sem_wait">sem_wait()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">sem_wait</span><span class="p">(</span><span class="n">sem_t</span> <span class="o">*</span><span class="n">sem</span><span class="p">);</span>
</code></pre></div>
<ul>
  <li>若 semaphore 為非 0，則 semaphore 值減
1；若 semaphore 為 0，則呼叫此 function
的 thread 會被 block ，直到 semaphore 值不
為 0。</li>
</ul>

<h5 id="sem_post">sem_post()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">sem_post</span><span class="p">(</span><span class="n">sem_t</span> <span class="o">*</span><span class="n">sem</span><span class="p">);</span>
</code></pre></div>
<ul>
  <li>對 semaphore 值加 1 。</li>
</ul>

<h5 id="sem_destroy">sem_destroy()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">sem_destroy</span><span class="p">(</span><span class="n">sem_t</span> <span class="o">*</span><span class="n">sem</span><span class="p">);</span>
<span class="c1">//delete a semaphore
</span></code></pre></div>

<h3 id="2-mutex">2. Mutex</h3>
<h4 id="pthreadh">pthread.h</h4>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#include &lt;pthread.h&gt;
</span>
<span class="kt">int</span> <span class="n">pthread_mutex_init</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">,</span> <span class="k">const</span> <span class="n">pthread_mutexattr_t</span> <span class="o">*</span><span class="n">mutexattr</span><span class="p">);</span>
<span class="c1">//create a mutex
</span>

<span class="kt">int</span> <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">);</span>
<span class="c1">//lock a mutex
</span>

<span class="kt">int</span> <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">);</span>
<span class="c1">//unlock a mutex
</span>

<span class="kt">int</span> <span class="n">pthread_mutex_destroy</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">);</span>
<span class="c1">//delete a mutex
</span></code></pre></div>

<h5 id="pthread_mutex_init">pthread_mutex_init()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">pthread_mutex_init</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">,</span> <span class="k">const</span> <span class="n">pthread_mutexattr_t</span> <span class="o">*</span><span class="n">mutexattr</span><span class="p">);</span>
</code></pre></div>
<ul>
  <li><code class="highlighter-rouge">pthread_mutex_t *mutex</code>：mutex 識別字</li>
  <li><code class="highlighter-rouge">const pthread_mutexattr_t *mutexattr</code>：mutex 的屬性。設定為 NULL 表示使用預設。</li>
</ul>

<h5 id="pthread_mutex_lock">pthread_mutex_lock()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">);</span>
<span class="c1">//lock a mutex
</span></code></pre></div>

<h5 id="pthread_mutex_unlock">pthread_mutex_unlock()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">);</span>
<span class="c1">//unlock a mutex
</span></code></pre></div>

<h5 id="pthread_mutex_destroy">pthread_mutex_destroy()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">pthread_mutex_destroy</span><span class="p">(</span><span class="n">pthread_mutex_t</span> <span class="o">*</span><span class="n">mutex</span><span class="p">);</span>
<span class="c1">//delete a mutex
</span></code></pre></div>

<h3 id="3-condition-variables">3. Condition Variables</h3>
<h4 id="pthread_cond_init-condition-attr">pthread_cond_init (condition, attr)</h4>
<ul>
  <li><a href="https://computing.llnl.gov/tutorials/pthreads/man/pthread_cond_init.txt">pthread_cond_init</a></li>
</ul>

<h4 id="pthread_cond_destroy-condition">pthread_cond_destroy (condition)</h4>
<ul>
  <li><a href="https://computing.llnl.gov/tutorials/pthreads/man/pthread_cond_destroy.txt">pthread_cond_destroy</a></li>
</ul>

<h4 id="pthread_condattr_init-attr">pthread_condattr_init (attr)</h4>
<ul>
  <li><a href="https://computing.llnl.gov/tutorials/pthreads/man/pthread_condattr_init.txt">pthread_condattr_init</a></li>
</ul>

<h4 id="pthread_condattr_destroy-attr">pthread_condattr_destroy (attr)</h4>
<ul>
  <li><a href="https://computing.llnl.gov/tutorials/pthreads/man/pthread_condattr_destroy.txt">pthread_condattr_destroy</a></li>
</ul>

<h3 id="4-barrier">4. Barrier</h3>
<ul>
  <li><a href="http://angelonotes.blogspot.tw/2012/02/pthreadbarrier.html">Using barriers in pthreads</a></li>
  <li><a href="http://angelonotes.blogspot.tw/2012/02/pthreadbarrier.html">pthread︰barrier</a></li>
</ul>

<h3 id="二-producer-consumer-problem">(二) Producer-Consumer Problem</h3>
<h4 id="1-producer">1. Producer</h4>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">item</span> <span class="n">next</span> <span class="n">produced</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/* produce an item in next produced */</span>
    
    <span class="k">while</span> <span class="p">(((</span><span class="n">in</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">BUFFER</span> <span class="n">SIZE</span><span class="p">)</span> <span class="o">==</span> <span class="n">out</span><span class="p">)</span>
    <span class="p">;</span> <span class="cm">/* do nothing */</span>
        
    <span class="n">buffer</span><span class="p">[</span><span class="n">in</span><span class="p">]</span> <span class="o">=</span> <span class="n">next</span> <span class="n">produced</span><span class="p">;</span>
    <span class="n">in</span> <span class="o">=</span> <span class="p">(</span><span class="n">in</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">BUFFER</span> <span class="n">SIZE</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="2-consumer">2. Consumer</h4>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">item</span> <span class="n">next</span> <span class="n">consumed</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">in</span> <span class="o">==</span> <span class="n">out</span><span class="p">)</span>
    <span class="p">;</span> <span class="cm">/* do nothing */</span>
    
    <span class="n">next</span> <span class="n">consumed</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">[</span><span class="n">out</span><span class="p">];</span>
    <span class="n">out</span> <span class="o">=</span> <span class="p">(</span><span class="n">out</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">BUFFER</span> <span class="n">SIZE</span><span class="p">;</span>
    
    <span class="cm">/* consume the item in next consumed */</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="課程作業">課程作業</h3>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cm">/*
 *  Solution to Producer Consumer Problem
 *  Using Ptheads, a mutex and condition variables
 *  From Tanenbaum, Modern Operating Systems, 3rd Ed.
 */</span>

<span class="cm">/*
    In this version the buffer is a single number.
    The producer is putting numbers into the shared buffer
    (in this case sequentially)
    And the consumer is taking them out.
    If the buffer contains zero, that indicates that the buffer is empty.
    Any other value is valid.
*/</span>

<span class="cp">#include &lt;stdio.h&gt;
#include &lt;pthread.h&gt;
</span>
<span class="cp">#define MAX 10//000000			</span><span class="cm">/* Numbers to produce */</span><span class="cp">
#define BUFFER_SIZE 5
</span>
<span class="n">pthread_mutex_t</span> <span class="n">the_mutex</span><span class="p">;</span>
<span class="n">pthread_cond_t</span> <span class="n">condc</span><span class="p">,</span> <span class="n">condp</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">buffer</span><span class="p">[</span><span class="n">BUFFER_SIZE</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">in</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span> <span class="o">*</span><span class="nf">producer</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">ptr</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">the_mutex</span><span class="p">);</span>	<span class="cm">/* protect buffer */</span>
        
        <span class="k">while</span> <span class="p">(((</span><span class="n">in</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">BUFFER_SIZE</span><span class="p">)</span> <span class="o">==</span> <span class="n">out</span><span class="p">)</span>		       <span class="cm">/* If there is something in the buffer then wait */</span>
            <span class="n">pthread_cond_wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">condp</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">the_mutex</span><span class="p">);</span>

        <span class="n">buffer</span><span class="p">[</span><span class="n">in</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"ProBuffer[%d]：%2d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">in</span><span class="p">,</span> <span class="n">buffer</span><span class="p">[</span><span class="n">in</span><span class="p">]);</span>
        <span class="n">in</span> <span class="o">=</span> <span class="p">(</span><span class="n">in</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">BUFFER_SIZE</span><span class="p">;</span>
   
        <span class="n">pthread_cond_signal</span><span class="p">(</span><span class="o">&amp;</span><span class="n">condc</span><span class="p">);</span>	<span class="cm">/* wake up consumer */</span>
        <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">the_mutex</span><span class="p">);</span>	<span class="cm">/* release the buffer */</span>
    <span class="p">}</span>

    <span class="n">pthread_exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="o">*</span><span class="nf">consumer</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">ptr</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">the_mutex</span><span class="p">);</span>	<span class="cm">/* protect buffer */</span>
    
        <span class="k">while</span> <span class="p">(</span><span class="n">in</span> <span class="o">==</span> <span class="n">out</span><span class="p">)</span>			<span class="cm">/* If there is nothing in the buffer then wait */</span>
            <span class="n">pthread_cond_wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">condc</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">the_mutex</span><span class="p">);</span>
    
        <span class="n">printf</span><span class="p">(</span><span class="s">"ConBuffer[%d]：%2d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">buffer</span><span class="p">[</span><span class="n">out</span><span class="p">]);</span>
        <span class="n">out</span> <span class="o">=</span> <span class="p">(</span><span class="n">out</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">BUFFER_SIZE</span><span class="p">;</span>
        <span class="n">buffer</span><span class="p">[</span><span class="n">out</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
        <span class="n">pthread_cond_signal</span><span class="p">(</span><span class="o">&amp;</span><span class="n">condp</span><span class="p">);</span>	<span class="cm">/* wake up consumer */</span>
        <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">the_mutex</span><span class="p">);</span>	<span class="cm">/* release the buffer */</span>
    <span class="p">}</span>
    <span class="n">pthread_exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">pthread_t</span> <span class="n">pro</span><span class="p">,</span> <span class="n">con</span><span class="p">;</span>

    <span class="c1">// Initialize the mutex and condition variables
</span>    <span class="cm">/* What's the NULL for ??? */</span>
    <span class="n">pthread_mutex_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">the_mutex</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>	
    <span class="n">pthread_cond_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">condc</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>		<span class="cm">/* Initialize consumer condition variable */</span>
    <span class="n">pthread_cond_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">condp</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>		<span class="cm">/* Initialize producer condition variable */</span>

    <span class="c1">// Create the threads
</span>    <span class="n">pthread_create</span><span class="p">(</span><span class="o">&amp;</span><span class="n">con</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">consumer</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
    <span class="n">pthread_create</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pro</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">producer</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

    <span class="c1">// Wait for the threads to finish
</span>    <span class="c1">// Otherwise main might run to the end
</span>    <span class="c1">// and kill the entire process when it exits.
</span>    <span class="n">pthread_join</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
    <span class="n">pthread_join</span><span class="p">(</span><span class="n">pro</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

    <span class="c1">// Cleanup -- would happen automatically at end of program
</span>    <span class="n">pthread_mutex_destroy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">the_mutex</span><span class="p">);</span>	<span class="cm">/* Free up the_mutex */</span>
    <span class="n">pthread_cond_destroy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">condc</span><span class="p">);</span>		<span class="cm">/* Free up consumer condition variable */</span>
    <span class="n">pthread_cond_destroy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">condp</span><span class="p">);</span>		<span class="cm">/* Free up producer condition variable */</span>
<span class="p">}</span>
</code></pre></div>

<ul>
  <li>執行結果
<img src="https://i.imgur.com/6miNt1O.jpg" alt="" /></li>
</ul>


                </div>
                <div class="read-all">
                    <a  href="/2017/03/31/linux_system/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/03/30/ai/">20170330 [學習筆記] 人工智慧 (5)</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-03-30
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#人工智慧" title="Category: 人工智慧" rel="category">人工智慧</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#人工智慧" title="Tag: 人工智慧" rel="tag">人工智慧</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    
<p><img src="https://i.imgur.com/wSK7bFu.jpg" alt="" /></p>

<p><img src="https://i.imgur.com/xaRQW1r.jpg" alt="" /></p>


                </div>
                <div class="read-all">
                    <a  href="/2017/03/30/ai/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/03/24/linux_system/">20170324 [學習筆記] Linux 系統程式 (4)</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-03-24
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Linux" title="Category: Linux" rel="category">Linux</a>&nbsp;
    
        <a href="/category/#作業系統" title="Category: 作業系統" rel="category">作業系統</a>&nbsp;
    
        <a href="/category/#程式設計" title="Category: 程式設計" rel="category">程式設計</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Linux" title="Tag: Linux" rel="tag">Linux</a>&nbsp;
    
        <a href="/tag/#作業系統" title="Tag: 作業系統" rel="tag">作業系統</a>&nbsp;
    
        <a href="/tag/#程式設計" title="Tag: 程式設計" rel="tag">程式設計</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#一作業系統" id="markdown-toc-一作業系統">一、作業系統</a>    <ul>
      <li><a href="#multithread-architecture" id="markdown-toc-multithread-architecture">Multithread Architecture</a></li>
      <li><a href="#一multicore-programming" id="markdown-toc-一multicore-programming">一、Multicore Programming</a></li>
      <li><a href="#二concurrency-vs-parallelism" id="markdown-toc-二concurrency-vs-parallelism">二、Concurrency vs Parallelism</a>        <ul>
          <li><a href="#1-concurrency" id="markdown-toc-1-concurrency">1. Concurrency</a></li>
          <li><a href="#2-parallelism" id="markdown-toc-2-parallelism">2. Parallelism</a></li>
          <li><a href="#3-concurrency-vs-parallelism" id="markdown-toc-3-concurrency-vs-parallelism">3. Concurrency vs Parallelism</a></li>
          <li><a href="#4-相關整理" id="markdown-toc-4-相關整理">4. 相關整理</a></li>
        </ul>
      </li>
      <li><a href="#三single-and-multithreaded-processes" id="markdown-toc-三single-and-multithreaded-processes">三、Single and Multithreaded Processes</a></li>
      <li><a href="#四user-threads-and-kernel-threads" id="markdown-toc-四user-threads-and-kernel-threads">四、User Threads and Kernel Threads</a></li>
      <li><a href="#五multithreading-models" id="markdown-toc-五multithreading-models">五、Multithreading Models</a></li>
      <li><a href="#六pthreads" id="markdown-toc-六pthreads">六、Pthreads</a>        <ul>
          <li><a href="#pthreadh" id="markdown-toc-pthreadh">pthread.h</a>            <ul>
              <li><a href="#pthread_create" id="markdown-toc-pthread_create">pthread_create()</a></li>
              <li><a href="#pthread_exit" id="markdown-toc-pthread_exit">pthread_exit()</a></li>
              <li><a href="#pthread_join" id="markdown-toc-pthread_join">pthread_join()</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#課程作業" id="markdown-toc-課程作業">課程作業</a></li>
    </ul>
  </li>
</ul>

<h2 id="一作業系統">一、作業系統</h2>
<ul>
  <li>課程簡報
    <ul>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170323/ch04.pdf">Chapter 4: Mutithread Programming</a></li>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170323/Linux_programming_pthread.pdf">Linux_programming_pthread</a></li>
    </ul>
  </li>
  <li>參考資料
    <ul>
      <li><a href="https://hackmd.io/s/Skh_AaVix">Toward Concurrency</a></li>
      <li><a href="https://chi_gitbook.gitbooks.io/personal-note/content/amdahls_law.html">Amdahl’s Law</a></li>
    </ul>
  </li>
</ul>

<h3 id="multithread-architecture">Multithread Architecture</h3>
<p><img src="https://i.imgur.com/8ICdvBz.jpg" alt="" /></p>
<ul>
  <li><strong>Responsiveness</strong> – may allow continued execution if part of process is blocked, especially important for user interfaces.</li>
  <li><strong>Resource Sharing</strong> – threads share resources of process, easier than shared memory or message passing.</li>
  <li><strong>Economy</strong> – cheaper than process creation, thread switching lower overhead than context switching.</li>
  <li><strong>Scalability</strong> – process can take advantage of multiprocessor architectures.</li>
</ul>

<h3 id="一multicore-programming">一、Multicore Programming</h3>
<ul>
  <li><strong>Multicore</strong> or <strong>multiprocessor</strong> systems putting pressure on programmers, challenges include:
    <ul>
      <li><strong>Dividing activities</strong></li>
      <li><strong>Balance</strong></li>
      <li><strong>Data splitting</strong></li>
      <li><strong>Data dependency</strong></li>
      <li><strong>Testing and debugging</strong></li>
    </ul>
  </li>
  <li><strong>Parallelism</strong> implies a system can perform more than one task simultaneously.</li>
  <li><strong>Concurrency</strong> supports more than one task making progress.
    <ul>
      <li>Single processor / core, scheduler providing concurrency</li>
    </ul>
  </li>
  <li>Types of parallelism
    <ul>
      <li><strong>Data parallelism</strong> – distributes subsets of the same data across multiple cores, same operation on each.</li>
      <li><strong>Task parallelism</strong> – distributing threads across cores, each thread performing unique operation.</li>
    </ul>
  </li>
  <li>As # of threads grows, so does architectural support for threading.
    <ul>
      <li>CPUs have cores as well as <strong>hardware threads</strong>.</li>
      <li>Consider Oracle SPARC T4 with 8 cores, and 8 hardware threads per core.</li>
    </ul>
  </li>
</ul>

<h3 id="二concurrency-vs-parallelism">二、Concurrency vs Parallelism</h3>
<ul>
  <li>引用資料：<a href="https://hackmd.io/s/Skh_AaVix">Toward Concurrency</a></li>
  <li><a href="https://blog.golang.org/concurrency-is-not-parallelism">Concurrency is not Parallelism</a>, by Rob Pike
    <ul>
      <li><a href="https://talks.golang.org/2012/waza.slide#1">投影片</a></li>
      <li><a href="https://www.youtube.com/watch?v=cN_DpYBzKso">錄影</a></li>
      <li><a href="http://stackoverflow.com/questions/11700953/concurrency-is-not-parallelism">後續 stackoverflow 討論</a></li>
    </ul>
  </li>
  <li>Concurrency 對軟體設計的影響
    <ul>
      <li>想要充分使用到 CPU 的資源</li>
      <li>程式越來越有機會造成 CPU-bound。雖然主要還是 IO-bound 等，但如果 CPU 時脈無法增加，而其他存取方式速度變快，最後會發生 CPU-bound</li>
      <li>軟體效能優化將會越來越重要</li>
      <li>程式語言必須好好處理 concurrency</li>
    </ul>
  </li>
</ul>

<h4 id="1-concurrency">1. Concurrency</h4>
<ul>
  <li>是指程式架構，將程式拆開成多個可獨立運作的工作。eg：drivers，都可以獨立運作，但不需要平行化。
    <ul>
      <li>拆開多個的工作不一定要同時運行</li>
      <li>多個工作在單核心 CPU 上運行</li>
    </ul>
  </li>
</ul>

<h4 id="2-parallelism">2. Parallelism</h4>
<ul>
  <li>是指程式執行，同時執行多個程式。Concurrency 可能會用到 parallelism，但不一定要用 parallelism 才能實現 concurrency。eg：Vector dot product
    <ul>
      <li>程式會同時執行 (例如：分支後，同時執行，再收集結果)</li>
      <li>一個工作在多核心 CPU 上運行</li>
    </ul>
  </li>
</ul>

<h4 id="3-concurrency-vs-parallelism">3. Concurrency vs Parallelism</h4>
<ul>
  <li>
    <p>Rob Pike 用地鼠燒書做例子:
<img src="https://hackpad-attachments.s3.amazonaws.com/embedded2016.hackpad.com_K6DJ0ZtiecH_p.537916_1460613009716_task.jpg" alt="" /></p>
  </li>
  <li>
    <p>如果今天增加多一只地鼠，一個推車或多一個焚燒盧，這樣有機會作到更好的資源使用率，但我們不能保證兩只或更多地鼠會同時進行 (可能只有有限的火爐)。在單核系統中只能允許一次進行一次的燒書工作，那樣就沒有效率了。
<img src="https://i.imgur.com/XTGAK98.jpg" alt="" />
以 Concurrency 的方式去作業，能夠以不同的解構方式去進行，可以是三個地鼠分別負責一部分的工作 (decomposition)
<img src="https://i.imgur.com/w5Eugs7.jpg" alt="" />
其中也可以 Parallelism:
<img src="https://i.imgur.com/3IHX5BT.jpg" alt="" />
或
<img src="https://i.imgur.com/duEVvNK.jpg" alt="" /></p>
  </li>
</ul>

<p><strong>Concurrency:</strong> 是指程式架構，將程式拆開成多個可獨立運作的工作，像是驅動程式都可獨立運作，但不需要平行化</p>
<ul>
  <li>拆開多個的工作不一定要同時運行</li>
  <li>多個工作在單核心 CPU 上運行</li>
</ul>

<p><strong>Parallelism:</strong> 是指程式執行，同時執行多個程式。Concurrency 可能會用到 parallelism，但不一定要用 parallelism 才能實現 concurrency。eg：Vector dot product</p>
<ul>
  <li>程式會同時執行 (例如：fork 後，同時執行，再收集結果 [join])</li>
  <li>一個工作在多核心 CPU 上運行</li>
</ul>

<h4 id="4-相關整理">4. 相關整理</h4>
<p>線上教材 <a href="https://www.youtube.com/watch?v=6jFkNjhJ-Z4">Introduction to OpenMP</a> 做了以下整理：</p>

<p>(1) Concurrent (並行)</p>
<ul>
  <li>工作可拆分成「獨立執行」的部份，這樣「可以」讓很多事情一起做，但是「不一定」要真的同時做。下方情境：
<img src="https://i.imgur.com/rweOyiD.png" alt="" />
    <ul>
      <li>展示具有並行性，但不去同時執行。</li>
      <li>並行性是種「架構程式」的概念。寫下一段程式之前，思考問題架構時就決定好的。</li>
    </ul>
  </li>
</ul>

<p>(2) Parallel (平行)</p>
<ul>
  <li>把規劃好、能夠並行的程式，分配給不同執行緒，並讓他們同時執行。
<img src="https://i.imgur.com/Oom3wM5.png" alt="" />
    <ul>
      <li>「平行」是一種選擇。</li>
    </ul>
  </li>
</ul>

<h3 id="三single-and-multithreaded-processes">三、Single and Multithreaded Processes</h3>
<p><img src="https://i.imgur.com/KLVunhJ.jpg" alt="" /></p>

<ul>
  <li><strong>Amdahl’s Law</strong>
    <ul>
      <li>針對系統裡面某一個特定的元件予以最佳化，對於整體系統有多少的效能改變。
  <img src="https://i.imgur.com/E1L6ODN.jpg" alt="" /></li>
      <li>分成兩部份
        <ul>
          <li><strong>有辦法改進的部份</strong></li>
          <li><strong>沒有辦法改進的部份</strong></li>
        </ul>
      </li>
      <li>因為有無法改進的部份，所以不可能無限提升系統的某一個特定部分的效率。</li>
    </ul>
  </li>
</ul>

<h3 id="四user-threads-and-kernel-threads">四、User Threads and Kernel Threads</h3>
<ul>
  <li><strong>User threads</strong>
    <ul>
      <li>Management done by user-level threads library.</li>
    </ul>
  </li>
  <li><strong>Kernel threads</strong>
    <ul>
      <li>Supported by the Kernel.</li>
    </ul>
  </li>
</ul>

<h3 id="五multithreading-models">五、Multithreading Models</h3>
<ol>
  <li><strong>Many-to-One</strong>
    <ul>
      <li>Many user-level threads mapped to single kernel thread.</li>
      <li><strong>One thread blocking causes all to block.</strong></li>
      <li>Multiple threads may not run in parallel on muticore system because only one may be in kernel at a time.</li>
      <li>Examples：<code class="highlighter-rouge">Solaris Green Threads</code>、<code class="highlighter-rouge">GNU Portable Threads</code>
<img src="https://i.imgur.com/dwfuxrT.jpg" alt="" /></li>
    </ul>
  </li>
  <li><strong>One-to-One</strong>
    <ul>
      <li>Each user-level thread maps to kernel thread.</li>
      <li><strong>Creating a user-level thread creates a kernel thread.</strong></li>
      <li>More concurrency than many-to-one.</li>
      <li>Number of threads per process sometimes restricted due to overhead.</li>
      <li>Examples：<code class="highlighter-rouge">Windows NT/XP/2000</code>、<code class="highlighter-rouge">Linux</code>、<code class="highlighter-rouge">Solaris 9 and later</code>
<img src="https://i.imgur.com/Fh9QH0S.jpg" alt="" /></li>
    </ul>
  </li>
  <li><strong>Many-to-Many</strong>
    <ul>
      <li>Allows many user level threads to be mapped to many kernel threads.</li>
      <li>Allows the operating system to create a sufficient number of kernel threads.</li>
      <li>Solaris prior to version 9.</li>
      <li>Example：<code class="highlighter-rouge">Windows NT/2000 with the ThreadFiber package</code>
<img src="https://i.imgur.com/hWCuKOk.jpg" alt="" /></li>
    </ul>
  </li>
  <li><strong>Two-level</strong>
    <ul>
      <li>Similar to M:M, except that it allows a user thread to be bound to kernel thread.</li>
      <li>Examples：<code class="highlighter-rouge">IRIX</code>、<code class="highlighter-rouge">HP-UX</code>、<code class="highlighter-rouge">Tru64 UNIX</code>、<code class="highlighter-rouge">Solaris 8 and earlier</code>
<img src="https://i.imgur.com/iRt3Xj2.jpg" alt="" /></li>
    </ul>
  </li>
</ol>

<h3 id="六pthreads">六、Pthreads</h3>
<ul>
  <li>May be provided either as user-level or kernel-level.</li>
  <li>A POSIX standard (IEEE 1003.1c) API for thread creation and synchronization.</li>
  <li><strong>Specification, not implementation.</strong></li>
  <li>API specifies behavior of the thread library, implementation is up to development of the library.</li>
  <li>Common in UNIX operating systems (Solaris, Linux, Mac OS X).</li>
</ul>

<h4 id="pthreadh">pthread.h</h4>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#include &lt;pthread.h&gt;
</span>
<span class="kt">int</span> <span class="n">pthread_create</span><span class="p">(</span><span class="n">pthread_t</span> <span class="o">*</span><span class="kr">thread</span><span class="p">,</span> <span class="n">pthread_attr_t</span>
<span class="o">*</span><span class="n">attr</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">start_routine</span><span class="p">)(</span><span class="kt">void</span> <span class="o">*</span><span class="p">),</span> <span class="kt">void</span> <span class="o">*</span><span class="n">arg</span><span class="p">);</span>
<span class="c1">//create a thread
</span>

<span class="kt">void</span> <span class="n">pthread_exit</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">retval</span><span class="p">);</span>
<span class="c1">//terminate a thread
</span>

<span class="kt">int</span> <span class="n">pthread_join</span><span class="p">(</span><span class="n">pthread_t</span> <span class="n">th</span><span class="p">,</span> <span class="kt">void</span> <span class="o">**</span><span class="n">thread_return</span><span class="p">);</span>
<span class="c1">//wait for thread termination
</span>
</code></pre></div>

<h5 id="pthread_create">pthread_create()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">pthread_create</span><span class="p">(</span><span class="n">pthread_t</span> <span class="o">*</span><span class="kr">thread</span><span class="p">,</span>
<span class="n">pthread_attr_t</span> <span class="o">*</span><span class="n">attr</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">start_routine</span><span class="p">)(</span><span class="kt">void</span>
<span class="o">*</span><span class="p">),</span> <span class="kt">void</span> <span class="o">*</span><span class="n">arg</span><span class="p">);</span>
</code></pre></div>
<ul>
  <li><code class="highlighter-rouge">pthread_t *thread</code>：thread 的識別字</li>
  <li><code class="highlighter-rouge">pthread_attr_t *attr</code>：thread 的屬性，設定為 NULL 表示使用預設值</li>
  <li><code class="highlighter-rouge">void *(*start_routine)(void*)</code>：thread 要執行的 function</li>
  <li><code class="highlighter-rouge">void *arg</code>：傳遞給 thread 的參數</li>
</ul>

<h5 id="pthread_exit">pthread_exit()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">pthread_exit</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">retval</span><span class="p">);</span>
</code></pre></div>
<ul>
  <li><code class="highlighter-rouge">void *retval</code>：thread 結束時回傳的變數</li>
</ul>

<h5 id="pthread_join">pthread_join()</h5>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">pthread_join</span><span class="p">(</span><span class="n">pthread_t</span> <span class="n">th</span><span class="p">,</span> <span class="kt">void</span> <span class="o">**</span><span class="n">thread_return</span><span class="p">);</span>
</code></pre></div>
<ul>
  <li><code class="highlighter-rouge">pthread_t th</code>：thread 識別字</li>
  <li><code class="highlighter-rouge">void **thread_return</code>：接收 pthread_exit 傳回的變數</li>
</ul>

<h3 id="課程作業">課程作業</h3>
<ul>
  <li>從 1 - 10000 之間取出所有的質數，利用 threads 來分配計算質數的範圍。</li>
</ul>

<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;pthread.h&gt;
#include &lt;semaphore.h&gt; 
#include &lt;time.h&gt;
</span>
<span class="cp">#define NUM_THREADS 10
#define MSIZE 10000
</span>
<span class="c1">// 找出 1 - 10000 的所有質數
</span>
<span class="k">static</span> <span class="kt">double</span> <span class="n">getDoubleTime</span><span class="p">();</span>
<span class="kt">void</span> <span class="o">*</span><span class="n">thread_function</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">arg</span><span class="p">);</span>
<span class="n">pthread_mutex_t</span> <span class="n">work_mutex</span><span class="p">;</span>

<span class="c1">// 宣告 prime_array 陣列
</span><span class="kt">int</span> <span class="n">prime_array</span><span class="p">[</span><span class="n">NUM_THREADS</span><span class="p">][(</span><span class="n">MSIZE</span> <span class="o">/</span> <span class="n">NUM_THREADS</span><span class="p">)];</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">res</span><span class="p">;</span>
	<span class="n">pthread_t</span> <span class="n">a_thread</span><span class="p">[</span><span class="n">NUM_THREADS</span><span class="p">];</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">thread_result</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">lots_of_threads</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">print_prime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>


	<span class="c1">// start to measure time...
</span>	<span class="kt">double</span> <span class="n">start_time</span> <span class="o">=</span> <span class="n">getDoubleTime</span><span class="p">();</span>
	
	<span class="c1">// initialize mutex...
</span>	<span class="n">res</span> <span class="o">=</span> <span class="n">pthread_mutex_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">work_mutex</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">res</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
       	<span class="n">perror</span><span class="p">(</span><span class="s">"Mutex initialization failed"</span><span class="p">);</span>
	    <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
    <span class="p">}</span>

	<span class="c1">// pthread_create...
</span>	<span class="k">for</span> <span class="p">(</span><span class="n">lots_of_threads</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">lots_of_threads</span> <span class="o">&lt;</span> <span class="n">NUM_THREADS</span><span class="p">;</span> <span class="n">lots_of_threads</span> <span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">res</span> <span class="o">=</span> <span class="n">pthread_create</span><span class="p">(</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_thread</span><span class="p">[</span><span class="n">lots_of_threads</span><span class="p">]),</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">thread_function</span><span class="p">,</span> <span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)(</span><span class="kt">long</span><span class="p">)</span><span class="n">lots_of_threads</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">res</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">perror</span><span class="p">(</span><span class="s">"Thread creation failed"</span><span class="p">);</span>
        		<span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="c1">// pthread_join...
</span>	<span class="k">for</span> <span class="p">(</span><span class="n">lots_of_threads</span> <span class="o">=</span> <span class="n">NUM_THREADS</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">lots_of_threads</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">lots_of_threads</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        	<span class="n">res</span> <span class="o">=</span> <span class="n">pthread_join</span><span class="p">(</span><span class="n">a_thread</span><span class="p">[</span><span class="n">lots_of_threads</span><span class="p">],</span> <span class="o">&amp;</span><span class="n">thread_result</span><span class="p">);</span> 

            <span class="k">if</span> <span class="p">(</span><span class="n">res</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
	            <span class="n">perror</span><span class="p">(</span><span class="s">"pthread_join failed"</span><span class="p">);</span>
        	<span class="p">}</span>
    <span class="p">}</span>	
    
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// 設定計數器
</span>    <span class="k">for</span> <span class="p">(</span><span class="n">lots_of_threads</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">lots_of_threads</span> <span class="o">&lt;</span> <span class="n">NUM_THREADS</span><span class="p">;</span> <span class="n">lots_of_threads</span> <span class="o">++</span><span class="p">)</span> <span class="p">{</span> 
        <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n</span><span class="s">The thread[%d]'s numbers：</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">lots_of_threads</span><span class="p">);</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">MSIZE</span> <span class="o">/</span> <span class="n">NUM_THREADS</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">prime_array</span><span class="p">[</span><span class="n">lots_of_threads</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\t</span><span class="s">"</span><span class="p">,</span> <span class="n">prime_array</span><span class="p">[</span><span class="n">lots_of_threads</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>                        <span class="p">}</span>
    <span class="p">}</span>


	<span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Thread joined</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

	<span class="c1">// stop measuring time...
</span>	<span class="kt">double</span> <span class="n">finish_time</span> <span class="o">=</span> <span class="n">getDoubleTime</span><span class="p">();</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"Execute Time:  %.3lf ms</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="n">finish_time</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">));</span>
    <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_SUCCESS</span><span class="p">);</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="o">*</span><span class="nf">thread_function</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">arg</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// pthread_mutex_lock(&amp;work_mutex);
</span>	
    <span class="kt">int</span> <span class="n">my_num</span> <span class="o">=</span> <span class="p">(</span><span class="kt">long</span><span class="p">)</span><span class="n">arg</span><span class="p">;</span>
	<span class="c1">// if (MSIZE % NUM_THREADS != 0){    printf("error");   pthread_exit(-1);    }
</span>
    <span class="kt">int</span> <span class="n">start_num</span> <span class="o">=</span> <span class="p">(</span><span class="n">MSIZE</span> <span class="o">/</span> <span class="n">NUM_THREADS</span><span class="p">)</span> <span class="o">*</span> <span class="n">my_num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">end_num</span> <span class="o">=</span> <span class="p">(</span><span class="n">MSIZE</span> <span class="o">/</span> <span class="n">NUM_THREADS</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">my_num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>   <span class="c1">// Set the loop
</span>    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>      <span class="c1">// Set the counter
</span>    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>     <span class="c1">// result
</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"I'm thread[%d], start_num:%d, end_num:%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">my_num</span><span class="p">,</span> <span class="n">start_num</span><span class="p">,</span> <span class="n">end_num</span><span class="p">);</span>

    <span class="cm">/* find the prime number */</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">start_num</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">end_num</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>      <span class="c1">// Reset counter
</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span> 
            <span class="n">prime_array</span><span class="p">[</span><span class="n">my_num</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
            <span class="n">k</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>


    <span class="c1">// pthread_mutex_unlock(&amp;work_mutex);
</span>	<span class="n">pthread_exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">static</span> <span class="kt">double</span> <span class="nf">getDoubleTime</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">struct</span> <span class="n">timeval</span> <span class="n">tm_tv</span><span class="p">;</span>
        <span class="n">gettimeofday</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tm_tv</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
        <span class="k">return</span> <span class="p">(</span><span class="kt">double</span><span class="p">)(((</span><span class="kt">double</span><span class="p">)</span><span class="n">tm_tv</span><span class="p">.</span><span class="n">tv_sec</span> <span class="o">*</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="mi">1000</span><span class="p">.</span> <span class="o">+</span> <span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="n">tm_tv</span><span class="p">.</span><span class="n">tv_usec</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="mi">0</span><span class="p">.</span><span class="mo">001</span><span class="p">);</span>
<span class="p">}</span>

</code></pre></div>
<ul>
  <li>執行結果
<img src="https://i.imgur.com/jw2pSxj.jpg" alt="" /></li>
</ul>


                </div>
                <div class="read-all">
                    <a  href="/2017/03/24/linux_system/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
        </ul>



        <!-- Pagination links -->
        <div class="pagination">
          
            <a href="/blog/index.html" class="previous"><i class="fa fa-angle-double-left"></i></a>
            <a href="/blog/page4/" class="previous"><i class="fa fa-angle-left"></i></a>
          
          <span class="page_number ">5/13</span>
          
            <a href="/blog/page6/" class="next"><i class="fa fa-angle-right"></i></a>
            <a href="/blog/page13" class="next"><i class="fa fa-angle-double-right"></i></a>
          
        </div>
    </div>
    <!-- <button class="anchor"><i class="fa fa-anchor"></i></button> -->
    <div class="right">
        <div class="wrap">
            <div class="side">
                <div>
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    Recent Posts
                </div>
                <ul class="content-ul" recent>
                    
                        <li><a href="/2017/07/20/Data_Structure_Book/">20170720 [學習筆記] 細談資料結構_6th (1)</a></li>
                    
                        <li><a href="/2017/07/19/30OS_day2/">20170719 [學習筆記] 30天作業系統自作入門筆記 (2)</a></li>
                    
                        <li><a href="/2017/07/14/30OS_day1/">20170714 [學習筆記] 30天作業系統自作入門筆記 (1)</a></li>
                    
                        <li><a href="/2017/06/22/linux_system/">20170622 [學習筆記] Linux 系統程式筆記總整理</a></li>
                    
                        <li><a href="/2017/06/16/university_life/">20170616 [有感而發] 這四年我誤入歧途、又不務正業，但活得像是個人</a></li>
                    
                        <li><a href="/2017/06/15/linux_system/">20170615 [學習筆記] Linux 系統程式 (15)</a></li>
                    
                        <li><a href="/2017/06/08/linux_system/">20170608 [學習筆記] Linux 系統程式 (14)</a></li>
                    
                        <li><a href="/2017/06/07/university_choice/">20170607 [有感而發] 一切都只是選擇，那你自己的戰場是什麼？</a></li>
                    
                        <li><a href="/2017/06/01/linux_system/">20170601 [學習筆記] Linux 系統程式 (13)</a></li>
                    
                        <li><a href="/2017/05/25/linux_system/">20170525 [學習筆記] Linux 系統程式 (12)</a></li>
                    
                </ul>
            </div>

            <!-- Content -->
            <div class="side ">
                <div>
                    <i class="fa fa-th-list"></i>
                    Categories
                </div>
                <ul class="content-ul" cate>
                    
                    <li>
                        <a href="/category/#C語言" class="categories-list-item" cate="C語言">
                            <span class="name">
                                C語言
                            </span>
                            <span class="badge">10</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#OpenCV" class="categories-list-item" cate="OpenCV">
                            <span class="name">
                                OpenCV
                            </span>
                            <span class="badge">3</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Data-Science" class="categories-list-item" cate="Data-Science">
                            <span class="name">
                                Data-Science
                            </span>
                            <span class="badge">8</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#R語言" class="categories-list-item" cate="R語言">
                            <span class="name">
                                R語言
                            </span>
                            <span class="badge">11</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Hackpad" class="categories-list-item" cate="Hackpad">
                            <span class="name">
                                Hackpad
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Git" class="categories-list-item" cate="Git">
                            <span class="name">
                                Git
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Python語言" class="categories-list-item" cate="Python語言">
                            <span class="name">
                                Python語言
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Android" class="categories-list-item" cate="Android">
                            <span class="name">
                                Android
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#專題製作" class="categories-list-item" cate="專題製作">
                            <span class="name">
                                專題製作
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#GitBook" class="categories-list-item" cate="GitBook">
                            <span class="name">
                                GitBook
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#社團" class="categories-list-item" cate="社團">
                            <span class="name">
                                社團
                            </span>
                            <span class="badge">10</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#運動科學" class="categories-list-item" cate="運動科學">
                            <span class="name">
                                運動科學
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#未分類" class="categories-list-item" cate="未分類">
                            <span class="name">
                                未分類
                            </span>
                            <span class="badge">5</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#人工智慧" class="categories-list-item" cate="人工智慧">
                            <span class="name">
                                人工智慧
                            </span>
                            <span class="badge">7</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Linux" class="categories-list-item" cate="Linux">
                            <span class="name">
                                Linux
                            </span>
                            <span class="badge">17</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#作業系統" class="categories-list-item" cate="作業系統">
                            <span class="name">
                                作業系統
                            </span>
                            <span class="badge">19</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#程式設計" class="categories-list-item" cate="程式設計">
                            <span class="name">
                                程式設計
                            </span>
                            <span class="badge">22</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#組合語言" class="categories-list-item" cate="組合語言">
                            <span class="name">
                                組合語言
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#資料結構" class="categories-list-item" cate="資料結構">
                            <span class="name">
                                資料結構
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#演算法" class="categories-list-item" cate="演算法">
                            <span class="name">
                                演算法
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <div class="side">
                <div>
                    <i class="fa fa-tags"></i>
                    Tags
                </div>
                <div class="tags-cloud">
                    
                    
                    
                    
                    

                    
                      
                      
                      
                      
                      
                      <a href="/tag/#C語言" style="font-size: 12pt; color: #666;">C語言</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#程式設計" style="font-size: 18pt; color: #000;">程式設計</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#OpenCV" style="font-size: 9.5pt; color: #888;">OpenCV</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Data-Science" style="font-size: 12pt; color: #666;">Data-Science</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Data-Mining" style="font-size: 11.5pt; color: #777;">Data-Mining</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#R語言" style="font-size: 12pt; color: #666;">R語言</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#版本控制" style="font-size: 9pt; color: #999;">版本控制</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Hackpad" style="font-size: 9pt; color: #999;">Hackpad</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Git" style="font-size: 9pt; color: #999;">Git</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Python語言" style="font-size: 9pt; color: #999;">Python語言</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Android" style="font-size: 9pt; color: #999;">Android</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#專題製作" style="font-size: 9pt; color: #999;">專題製作</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#GitBook" style="font-size: 9pt; color: #999;">GitBook</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#社團" style="font-size: 12pt; color: #666;">社團</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#傷害緩解" style="font-size: 9pt; color: #999;">傷害緩解</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#原始點療法" style="font-size: 9pt; color: #999;">原始點療法</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#心情記事" style="font-size: 10.5pt; color: #777;">心情記事</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#人工智慧" style="font-size: 11pt; color: #777;">人工智慧</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Linux" style="font-size: 14pt; color: #444;">Linux</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#作業系統" style="font-size: 15pt; color: #333;">作業系統</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Vim" style="font-size: 9.5pt; color: #999;">Vim</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#組合語言" style="font-size: 9.5pt; color: #999;">組合語言</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#資料結構" style="font-size: 9pt; color: #999;">資料結構</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#演算法" style="font-size: 9pt; color: #999;">演算法</a>
                    
                </div>
            </div>

            <!-- <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul  class="content-ul">

                </ul>
            </div> -->
        </div>
    </div>
</div>
<!-- <script src="/js/scroll.min.js " charset="utf-8"></script> -->
<!-- <script src="/js/pageContent.js " charset="utf-8"></script> -->



    <footer class="site-footer">


  <div class="wrapper">
     <p class="cc - icon">
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/tw/"><img alt="創用 CC 授權條款" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/3.0/tw/88x31.png" /></a>
      </p>


      <p class="description">
          
          Martial Artist、Traceur & Engineer!
          
      </p>


        <p class="contact">
            Contact me at:
            
            <a href="https://github.com/shouzo"><i class="fa fa-github" aria-hidden="true"></i></a>
            

            
            <a href="mailto:danny200026@yahoo.com.tw"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>
            

            

            

            

            
            <a href="https://www.facebook.com/danny200026"><i class="fa fa-facebook-official" aria-hidden="true"></i></a>
            
        </p>


        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
            <span>
                Theme designed by <a href="https://github.com/Gaohaoyang">HyG</a>.
            </span>
            <span>
                <br> 除非另有註明，本部落格內容皆採用 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/tw/"> 創用 CC 姓名標示-非商業性-相同方式分享 3.0 台灣 </a> 授權條款
            </span>
        </p>

  </div>
	
	
	<div class="realtimeuserscounter realtimeuserscounter--styled"></div>
	<script src="https://realtimeusers.bycontrast.co/realtimeusers.js"></script>
	
</footer>
<script src="/js/main.js " charset="utf-8"></script>
    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
