<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>少左 shouzo</title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="canonical" href="http://shouzo.github.io/blog/">
    <link rel="alternate" type="application/rss+xml" title="少左 shouzo" href="http://shouzo.github.io /feed.xml ">



</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">少左 shouzo</a>
        <small>Be strong to Be useful！</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/blog/index.html">
                    
                        <i class="fa fa-home"></i>首頁 Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>內容 Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>分類 Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>標籤 Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>收藏 Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/demo/">
                        
                            <i class="fa fa-play"></i>展示 Demo
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-commenting"></i>關於 About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" index>
    <div class="left">
        <h1>Welcome to shouzo's Blog!</h1>
        <small>菜鳥的學習紀錄</small>
        <hr>
        <ul>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/04/14/linux_system/">20170414 [學習筆記] Linux 系統程式 (7)</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-04-14
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Linux" title="Category: Linux" rel="category">Linux</a>&nbsp;
    
        <a href="/category/#作業系統" title="Category: 作業系統" rel="category">作業系統</a>&nbsp;
    
        <a href="/category/#程式設計" title="Category: 程式設計" rel="category">程式設計</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Linux" title="Tag: Linux" rel="tag">Linux</a>&nbsp;
    
        <a href="/tag/#作業系統" title="Tag: 作業系統" rel="tag">作業系統</a>&nbsp;
    
        <a href="/tag/#程式設計" title="Tag: 程式設計" rel="tag">程式設計</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">一、作業系統</a>    <ul>
      <li><a href="#direct-communication" id="markdown-toc-direct-communication">(一) Direct Communication</a></li>
      <li><a href="#indirect-communication" id="markdown-toc-indirect-communication">(二) Indirect Communication</a></li>
      <li><a href="#synchronization" id="markdown-toc-synchronization">(三) Synchronization</a></li>
      <li><a href="#buffering" id="markdown-toc-buffering">(四) Buffering</a></li>
      <li><a href="#examples-of-ipc-systems" id="markdown-toc-examples-of-ipc-systems">Examples of IPC Systems</a>        <ul>
          <li><a href="#posix" id="markdown-toc-posix">1. POSIX</a></li>
          <li><a href="#mach" id="markdown-toc-mach">2. Mach</a></li>
          <li><a href="#windows" id="markdown-toc-windows">3. Windows</a></li>
        </ul>
      </li>
      <li><a href="#communications-in-client-server-systems" id="markdown-toc-communications-in-client-server-systems">(五) Communications in Client-Server Systems</a>        <ul>
          <li><a href="#sockets" id="markdown-toc-sockets">1. Sockets</a></li>
          <li><a href="#remote-procedure-calls" id="markdown-toc-remote-procedure-calls">2. Remote Procedure Calls</a></li>
          <li><a href="#pipes" id="markdown-toc-pipes">3. Pipes</a></li>
        </ul>
      </li>
      <li><a href="#section-1" id="markdown-toc-section-1">課堂作業</a></li>
    </ul>
  </li>
</ul>

<h2 id="section">一、作業系統</h2>
<ul>
  <li>課程簡報
    <ul>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170413/ch03.pdf">Chapter 3: Process Concept</a></li>
    </ul>
  </li>
</ul>

<h3 id="direct-communication">(一) Direct Communication</h3>
<ul>
  <li>Processes must name each other explicitly：
    <ul>
      <li>send(P, message) – send a message to process P</li>
      <li>receive(Q, message) – receive a message from process Q</li>
    </ul>
  </li>
  <li>Properties of communication link
    <ul>
      <li>Links are established automatically</li>
      <li>A link is associated with exactly one pair of communicating processes</li>
      <li>Between each pair there exists exactly one link</li>
      <li>The link may be unidirectional, but is usually bi-directional</li>
    </ul>
  </li>
</ul>

<h3 id="indirect-communication">(二) Indirect Communication</h3>
<ul>
  <li>Messages are directed and received from mailboxes (also referred to as ports)
    <ul>
      <li>Each mailbox has a unique id</li>
      <li>Processes can communicate only if they share a mailbox</li>
    </ul>
  </li>
  <li>Properties of communication link
    <ul>
      <li>Link established only if processes share a common mailbox</li>
      <li>A link may be associated with many processes</li>
      <li>Each pair of processes may share several communication links</li>
      <li>Link may be unidirectional or bi-directional</li>
    </ul>
  </li>
  <li>Operations
    <ul>
      <li>create a new mailbox</li>
      <li>send and receive messages through mailbox</li>
      <li>destroy a mailbox</li>
    </ul>
  </li>
  <li>Primitives are defined as：
    <ul>
      <li>send(A, message) – send a message to mailbox A</li>
      <li>receive(A, message) – receive a message from mailbox A</li>
    </ul>
  </li>
  <li>Mailbox sharing
    <ul>
      <li>Who gets the message？
        <ul>
          <li>P 1 , P 2 , and P 3 share mailbox A</li>
          <li>P 1 , sends; P 2 and P 3 receive</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Solutions
    <ul>
      <li>Allow a link to be associated with at most two processes.</li>
      <li>Allow only one process at a time to execute a receive operation.</li>
      <li>Allow the system to select arbitrarily the receiver. Sender is notified who the receiver was.</li>
    </ul>
  </li>
</ul>

<h3 id="synchronization">(三) Synchronization</h3>
<ul>
  <li>
    <p>Message passing may be either blocking or non-blocking</p>
  </li>
  <li><strong>Blocking</strong> is considered <strong>synchronous</strong>
    <ul>
      <li><code class="highlighter-rouge">Blocking send</code> has the sender block until the message is received</li>
      <li><code class="highlighter-rouge">Blocking receive</code> has the receiver block until a message is available</li>
    </ul>
  </li>
  <li><strong>Non-blocking</strong> is considered <strong>asynchronous</strong>
    <ul>
      <li><code class="highlighter-rouge">Non-blocking send</code> has the sender send the message and continue</li>
      <li><code class="highlighter-rouge">Non-blocking receive</code> has the receiver receive a valid message or null</li>
    </ul>
  </li>
  <li>Different combinations possible
    <ul>
      <li>If both send and receive are blocking, we have a rendezvous</li>
    </ul>
  </li>
  <li>Producer-consumer becomes trivial</li>
</ul>

<h3 id="buffering">(四) Buffering</h3>
<ul>
  <li>Queue of messages attached to the link; implemented in one of three ways
    <ol>
      <li>Zero capacity – 0 messages<br />
  Sender must wait for receiver (rendezvous)</li>
      <li>Bounded capacity – finite length of n messages<br />
  Sender must wait if link full</li>
      <li>Unbounded capacity – infinite length<br />
  Sender never waits</li>
    </ol>
  </li>
</ul>

<h3 id="examples-of-ipc-systems">Examples of IPC Systems</h3>

<h4 id="posix">1. POSIX</h4>
<ul>
  <li>POSIX Shared Memory
    <ul>
      <li>Process first creates shared memory segment：<code class="highlighter-rouge">shm_fd = shm_open(name, O CREAT | O RDRW, 0666);</code></li>
      <li>Also used to open an existing segment to share it</li>
      <li>Set the size of the object：<code class="highlighter-rouge">ftruncate(shm fd, 4096);</code></li>
      <li>Now the process could write to the shared memory：<code class="highlighter-rouge">sprintf(shared memory, "Writing to shared memory");</code></li>
    </ul>
  </li>
</ul>

<h4 id="mach">2. Mach</h4>
<ul>
  <li>Mach communication is message based
    <ul>
      <li>Even system calls are messages</li>
      <li>Each task gets two mailboxes at creation- Kernel and Notify</li>
      <li>Only three system calls needed for message transfer：<code class="highlighter-rouge">msg_send()</code>, <code class="highlighter-rouge">msg_receive()</code>, <code class="highlighter-rouge">msg_rpc()</code></li>
      <li>Mailboxes needed for commuication, created via：<code class="highlighter-rouge">port_allocate()</code></li>
      <li>Send and receive are flexible, for example four options if mailbox full：
        <ul>
          <li>Wait indefinitely</li>
          <li>Wait at most n milliseconds</li>
          <li>Return immediately</li>
          <li>Temporarily cache a message</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="windows">3. Windows</h4>
<ul>
  <li>Message-passing centric via <code class="highlighter-rouge">advanced local procedure call (LPC)</code> facility
    <ul>
      <li>Only works between processes on the same system</li>
      <li>Uses ports (like mailboxes) to establish and maintain communication channels</li>
      <li>Communication works as follows：
        <ul>
          <li>The client opens a handle to the subsystem’s <code class="highlighter-rouge">connection port</code> object.</li>
          <li>The client sends a connection request.</li>
          <li>The server creates two private <code class="highlighter-rouge">communication ports</code> and returns the handle to one of them to the client.</li>
          <li>The client and server use the corresponding port handle to send messages or callbacks and to listen for replies.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="communications-in-client-server-systems">(五) Communications in Client-Server Systems</h3>

<h4 id="sockets">1. Sockets</h4>
<ul>
  <li>A socket is defined as an endpoint for communication</li>
  <li>Concatenation of <code class="highlighter-rouge">IP address</code> and <code class="highlighter-rouge">port</code> – a number included at start of message packet to differentiate network services on a host
    <ul>
      <li>The socket 161.25.19.8:1625 refers to port 1625 on host 161.25.19.8</li>
    </ul>
  </li>
  <li>Communication consists between a pair of sockets</li>
  <li>All ports below 1024 are well known, used for standard services</li>
  <li>Special IP address <code class="highlighter-rouge">127.0.0.1 (loopback)</code> to refer to system on which process is running</li>
</ul>

<h4 id="remote-procedure-calls">2. Remote Procedure Calls</h4>
<ul>
  <li>Remote procedure call (RPC) abstracts procedure calls between processes on networked systems
    <ul>
      <li>Again uses ports for service differentiation</li>
    </ul>
  </li>
  <li><strong>Stubs</strong> – client-side proxy for the actual procedure on the server</li>
  <li>The client-side stub locates the server and <strong>marshalls</strong> the parameters</li>
  <li>The server-side stub receives this message, unpacks the marshalled parameters, and performs the procedure on the server</li>
  <li>On Windows, stub code compile from specification written in <strong>Microsoft Interface Definition Language (MIDL)</strong></li>
  <li>Data representation handled via <strong>External Data Representation (XDL)</strong> format to account for different architectures
    <ul>
      <li><code class="highlighter-rouge">Big-endian</code> and <code class="highlighter-rouge">little-endian</code></li>
    </ul>
  </li>
  <li>Remote communication has more failure scenarios than local
    <ul>
      <li>Messages can be delivered <code class="highlighter-rouge">exactly once</code> rather than <code class="highlighter-rouge">at most once</code></li>
    </ul>
  </li>
  <li>OS typically provides a rendezvous (or <strong>matchmaker</strong>) service to connect client and server</li>
</ul>

<p><img src="https://i.imgur.com/fvjj3rR.jpg" alt="" /></p>

<h4 id="pipes">3. Pipes</h4>
<ul>
  <li>Acts as a conduit allowing two processes to communicate</li>
  <li><strong>Issues</strong>
    <ul>
      <li>Is communication unidirectional or bidirectional?</li>
      <li>In the case of two-way communication, is it half or full-duplex?</li>
      <li>Must there exist a relationship (i.e. parent-child) between the communicating processes?</li>
      <li>Can the pipes be used over a network?</li>
    </ul>
  </li>
</ul>

<p><img src="https://i.imgur.com/W3b5HkN.jpg" alt="" /><br />
<img src="https://i.imgur.com/c18pKq0.jpg" alt="" /></p>

<h3 id="section-1">課堂作業</h3>
<ul>
  <li><code class="highlighter-rouge">client</code> 部份</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cm">/* vim: ts=4 sw=4 et
*/</span>
<span class="cm">/* The second program is the producer and allows us to enter data for consumers.
 It's very similar to shm1.c and looks like this. */</span>

<span class="cp">#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
</span>
<span class="cp">#include &lt;sys/shm.h&gt;
</span>
<span class="cp">#include "shm_com.h"
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">running</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">shared_memory</span> <span class="o">=</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">shared_use_st</span> <span class="o">*</span><span class="n">shared_stuff</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="n">BUFSIZ</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">shmid</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">rand_arr</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>

    <span class="n">shmid</span> <span class="o">=</span> <span class="n">shmget</span><span class="p">((</span><span class="n">key_t</span><span class="p">)</span><span class="mi">1234</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">shared_use_st</span><span class="p">),</span> <span class="mo">0666</span> <span class="o">|</span> <span class="n">IPC_CREAT</span><span class="p">);</span>
	
    <span class="k">if</span> <span class="p">(</span><span class="n">shmid</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"shmget failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">shared_memory</span> <span class="o">=</span> <span class="n">shmat</span><span class="p">(</span><span class="n">shmid</span><span class="p">,</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">shared_memory</span> <span class="o">==</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"shmat failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"Memory attached at %X</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)(</span><span class="kt">long</span><span class="p">)</span><span class="n">shared_memory</span><span class="p">);</span>

    <span class="n">shared_stuff</span> <span class="o">=</span> <span class="p">(</span><span class="k">struct</span> <span class="n">shared_use_st</span> <span class="o">*</span><span class="p">)</span><span class="n">shared_memory</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">shared_stuff</span><span class="o">-&gt;</span><span class="n">written_by_you</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>            
            <span class="n">printf</span><span class="p">(</span><span class="s">"waiting for client...</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="cm">/*
        printf("\nPress Enter to continue...");
        while (getchar() != '\n');
        // fgets(buffer, BUFSIZ, stdin);
        */</span>

        <span class="n">srand</span><span class="p">((</span><span class="kt">unsigned</span><span class="p">)</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">rand_arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">shared_stuff</span><span class="o">-&gt;</span><span class="n">some_text</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">rand_arr</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"[%d]%d </span><span class="se">\t</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">rand_arr</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

        <span class="c1">//  strncpy(shared_stuff-&gt;some_text, &amp;rand_arr, TEXT_SZ);
</span>        <span class="n">shared_stuff</span><span class="o">-&gt;</span><span class="n">written_by_you</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">shmdt</span><span class="p">(</span><span class="n">shared_memory</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"shmdt failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_SUCCESS</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">server</code> 部份</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cm">/* vim: ts=4 sw=4 et
*/</span>
<span class="cm">/* Our first program is a consumer. After the headers the shared memory segment
 (the size of our shared memory structure) is created with a call to shmget,
 with the IPC_CREAT bit specified. */</span>

<span class="cp">#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
</span>
<span class="cp">#include &lt;sys/shm.h&gt;
</span>
<span class="cp">#include "shm_com.h"
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">running</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">shared_memory</span> <span class="o">=</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">shared_use_st</span> <span class="o">*</span><span class="n">shared_stuff</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">shmid</span><span class="p">;</span>

    <span class="n">srand</span><span class="p">((</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">getpid</span><span class="p">());</span>    

    <span class="n">shmid</span> <span class="o">=</span> <span class="n">shmget</span><span class="p">((</span><span class="n">key_t</span><span class="p">)</span><span class="mi">1234</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">shared_use_st</span><span class="p">),</span> <span class="mo">0666</span> <span class="o">|</span> <span class="n">IPC_CREAT</span><span class="p">);</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">shmid</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"shmget failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
    <span class="p">}</span>

<span class="cm">/* We now make the shared memory accessible to the program. */</span>

    <span class="n">shared_memory</span> <span class="o">=</span> <span class="n">shmat</span><span class="p">(</span><span class="n">shmid</span><span class="p">,</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">shared_memory</span> <span class="o">==</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"shmat failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"Memory attached at %X</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)(</span><span class="kt">long</span><span class="p">)</span><span class="n">shared_memory</span><span class="p">);</span>

<span class="cm">/* The next portion of the program assigns the shared_memory segment to shared_stuff,
 which then prints out any text in written_by_you. The loop continues until end is found
 in written_by_you. The call to sleep forces the consumer to sit in its critical section,
 which makes the producer wait. */</span>

    <span class="n">shared_stuff</span> <span class="o">=</span> <span class="p">(</span><span class="k">struct</span> <span class="n">shared_use_st</span> <span class="o">*</span><span class="p">)</span><span class="n">shared_memory</span><span class="p">;</span>
    <span class="n">shared_stuff</span><span class="o">-&gt;</span><span class="n">written_by_you</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">shared_stuff</span><span class="o">-&gt;</span><span class="n">written_by_you</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">You wrote:</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">"[%d]%d </span><span class="se">\t</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">shared_stuff</span><span class="o">-&gt;</span><span class="n">some_text</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
            <span class="p">}</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

            <span class="n">sleep</span><span class="p">(</span><span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">4</span><span class="p">);</span> <span class="cm">/* make the other process wait for us ! */</span>
            <span class="c1">// shared_stuff-&gt;written_by_you = 0;
</span>            
        <span class="n">shared_stuff</span><span class="o">-&gt;</span><span class="n">written_by_you</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="cm">/* Lastly, the shared memory is detached and then deleted. */</span>


    <span class="k">if</span> <span class="p">(</span><span class="n">shmdt</span><span class="p">(</span><span class="n">shared_memory</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"shmdt failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">shmctl</span><span class="p">(</span><span class="n">shmid</span><span class="p">,</span> <span class="n">IPC_RMID</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"shmctl(IPC_RMID) failed</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_SUCCESS</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<ul>
  <li>執行結果<br />
<img src="https://i.imgur.com/rPMcs2j.jpg" alt="" /></li>
</ul>


                </div>
                <div class="read-all">
                    <a  href="/2017/04/14/linux_system/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/04/13/ai/">20170413 [學習筆記] 人工智慧 (7)</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-04-13
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#人工智慧" title="Category: 人工智慧" rel="category">人工智慧</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#人工智慧" title="Tag: 人工智慧" rel="tag">人工智慧</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    
<p><img src="https://i.imgur.com/qG4dyGw.jpg" alt="" /><br />
<img src="https://i.imgur.com/j6P9oCu.jpg" alt="" /><br />
<img src="https://i.imgur.com/CrkrvpT.jpg" alt="" /></p>

                </div>
                <div class="read-all">
                    <a  href="/2017/04/13/ai/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/04/07/linux_system/">20170407 [學習筆記] Linux 系統程式 (6)</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-04-07
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Linux" title="Category: Linux" rel="category">Linux</a>&nbsp;
    
        <a href="/category/#作業系統" title="Category: 作業系統" rel="category">作業系統</a>&nbsp;
    
        <a href="/category/#程式設計" title="Category: 程式設計" rel="category">程式設計</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Linux" title="Tag: Linux" rel="tag">Linux</a>&nbsp;
    
        <a href="/tag/#作業系統" title="Tag: 作業系統" rel="tag">作業系統</a>&nbsp;
    
        <a href="/tag/#程式設計" title="Tag: 程式設計" rel="tag">程式設計</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">一、作業系統</a>    <ul>
      <li><a href="#thread-pools" id="markdown-toc-thread-pools">(一) Thread Pools</a></li>
      <li><a href="#openmp" id="markdown-toc-openmp">(二) OpenMP</a>        <ul>
          <li><a href="#pragma-omp-parallel" id="markdown-toc-pragma-omp-parallel"><code class="highlighter-rouge">#pragma omp parallel</code></a></li>
          <li><a href="#example" id="markdown-toc-example">Example</a></li>
        </ul>
      </li>
      <li><a href="#threading-issues" id="markdown-toc-threading-issues">(三) Threading Issues</a>        <ul>
          <li><a href="#semantics-of-fork-and-exec" id="markdown-toc-semantics-of-fork-and-exec">1. Semantics of fork() and exec()</a></li>
          <li><a href="#signal-handling" id="markdown-toc-signal-handling">2. Signal Handling</a></li>
          <li><a href="#thread-cancellation" id="markdown-toc-thread-cancellation">3. Thread Cancellation</a></li>
          <li><a href="#thread-local-storage" id="markdown-toc-thread-local-storage">4. Thread-Local Storage</a></li>
          <li><a href="#scheduler-activations" id="markdown-toc-scheduler-activations">5. Scheduler Activations</a></li>
        </ul>
      </li>
      <li><a href="#thread-scheduling" id="markdown-toc-thread-scheduling">(四) Thread Scheduling</a></li>
      <li><a href="#pthread-scheduling" id="markdown-toc-pthread-scheduling">(五) Pthread Scheduling</a></li>
      <li><a href="#multiple-processor-scheduling" id="markdown-toc-multiple-processor-scheduling">(六) Multiple-Processor Scheduling</a></li>
      <li><a href="#socket---message-passing" id="markdown-toc-socket---message-passing">(七) Socket - Message Passing</a>        <ul>
          <li><a href="#what-is-a-socket" id="markdown-toc-what-is-a-socket">1. What is a socket？</a></li>
          <li><a href="#two-essential-types-of-sockets" id="markdown-toc-two-essential-types-of-sockets">2. Two essential types of sockets</a></li>
          <li><a href="#sockstream" id="markdown-toc-sockstream">(1) SOCK_STREAM</a></li>
          <li><a href="#sockdgram" id="markdown-toc-sockdgram">(2) SOCK_DGRAM</a></li>
          <li><a href="#connection-setup" id="markdown-toc-connection-setup">3. Connection setup</a></li>
        </ul>
      </li>
      <li><a href="#section-1" id="markdown-toc-section-1">課程作業</a></li>
    </ul>
  </li>
</ul>

<h2 id="section">一、作業系統</h2>
<ul>
  <li>課程簡報
    <ul>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170406/ch04.pdf">Chapter 4: Mutithread Programming</a></li>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170406/ch05.pdf">Chapter 5: Process Scheduling</a></li>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170406/Socket_Programming.pdf">Socket_Programming</a></li>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170406/Linux-Programming_Socket_1.pdf">Linux-Programming_Socket_1</a></li>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170406/Linux-Programming_Socket_2.pdf">Linux-Programming_Socket_2</a></li>
    </ul>
  </li>
  <li>參考資料
    <ul>
      <li><a href="https://goo.gl/Rs9JgE">簡易的程式平行化方法－OpenMP（一）簡介</a></li>
      <li><a href="https://hackmd.io/s/Skh_AaVix">Toward Concurrency</a></li>
    </ul>
  </li>
</ul>

<h3 id="thread-pools">(一) Thread Pools</h3>
<ul>
  <li>Create a number of threads in a pool where they await work.</li>
  <li>Advantages:
    <ul>
      <li>Usually slightly faster to service a request with an existing thread than create a new thread.</li>
      <li>Allows the number of threads in the application(s) to be bound to the size of the pool.</li>
      <li>Separating task to be performed from mechanics of creating task allows different strategies for running task.
        <ul>
          <li>Tasks could be scheduled to run periodically.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="openmp">(二) OpenMP</h3>
<ul>
  <li>Set of compiler directives and an API for C, C++, FORTRAN.</li>
  <li>Provides support for parallel programming in shared-memory environments.</li>
  <li>Identifies <code class="highlighter-rouge">parallel regions</code> – blocks of code that can run in parallel.</li>
</ul>

<h4 id="pragma-omp-parallel"><code class="highlighter-rouge">#pragma omp parallel</code></h4>
<ul>
  <li>Create as many threads as there are cores.</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">#pragma omp parallel for
</span><span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="p">}</span>
<span class="c1">// Run for loop in parallel
</span></code></pre>
</div>

<h4 id="example">Example</h4>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">#include &lt;omp.h&gt;
#include &lt;stdio.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="cm">/* sequential code */</span>
    
    <span class="cp">#pragma omp parallel
</span>    <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"I am a parallel region."</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="cm">/* sequential code */</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="threading-issues">(三) Threading Issues</h3>

<h4 id="semantics-of-fork-and-exec">1. Semantics of fork() and exec()</h4>

<ul>
  <li>Does fork() duplicate only the calling thread or all threads?
    <ul>
      <li>Some UNIXes have two versions of fork</li>
    </ul>
  </li>
  <li>Exec() usually works as normal – replace the running process including all threads.</li>
</ul>

<h4 id="signal-handling">2. Signal Handling</h4>
<ul>
  <li>Signals are used in UNIX systems to notify a process that a particular event has occurred.</li>
  <li>A <code class="highlighter-rouge">signal handler</code> is used to process signals.
    <ol>
      <li>Signal is generated by particular event</li>
      <li>Signal is delivered to a process</li>
      <li>Signal is handled by one of two signal handlers:
        <ol>
          <li>default</li>
          <li>user-defined</li>
        </ol>
      </li>
    </ol>
  </li>
  <li>Every signal has <code class="highlighter-rouge">default handler</code> that kernel runs when handling signal.
    <ul>
      <li>User-defined signal handler can override default.</li>
      <li>For single-threaded, signal delivered to process.</li>
    </ul>
  </li>
  <li>Where should a signal be delivered for multi-threaded?
    <ul>
      <li>Deliver the signal to the thread to which the signal applies.</li>
      <li>Deliver the signal to every thread in the process.</li>
      <li>Deliver the signal to certain threads in the process.</li>
      <li>Assign a specific thread to receive all signals for the process.</li>
    </ul>
  </li>
</ul>

<h4 id="thread-cancellation">3. Thread Cancellation</h4>
<ul>
  <li>Terminating a thread before it has finished.</li>
  <li>Thread to be canceled is target thread.</li>
  <li>Two general approaches:
    <ul>
      <li><code class="highlighter-rouge">Asynchronous cancellation</code> terminates the target thread immediately.</li>
      <li><code class="highlighter-rouge">Deferred cancellation</code> allows the target thread to periodically check if it should be cancelled.</li>
    </ul>
  </li>
  <li>Pthread code to create and cancel a thread:</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">pthread_t</span> <span class="n">tid</span><span class="p">;</span>

<span class="cm">/* Create the thread */</span>
<span class="n">pthread_create</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tid</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">worker</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

<span class="p">...</span>

<span class="cm">/* Cancel the thread */</span>
<span class="n">pthread_cancel</span><span class="p">(</span><span class="n">tid</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="thread-local-storage">4. Thread-Local Storage</h4>
<ul>
  <li><code class="highlighter-rouge">Thread-local storage (TLS)</code> allows each thread to have its own copy of data.</li>
  <li>Useful when you do not have control over the thread creation process (i.e., when using a thread).</li>
  <li>Different from local variables
    <ul>
      <li>Local variables visible only during single function invocation.</li>
      <li>TLS visible across function invocations</li>
    </ul>
  </li>
  <li>Similar to static data
    <ul>
      <li>TLS is unique to each thread.</li>
    </ul>
  </li>
</ul>

<h4 id="scheduler-activations">5. Scheduler Activations</h4>
<ul>
  <li>Both M:M and Two-level models require communication to maintain the appropriate number of kernel threads allocated to the application.</li>
  <li>Typically use an intermediate data structure between user and kernel threads – <code class="highlighter-rouge">lightweight process (LWP)</code><br />
<img src="http://i.imgur.com/N1XOvDn.jpg" alt="" />
    <ul>
      <li>Appears to be a virtual processor on which process can schedule user thread to run</li>
      <li>Each LWP attached to kernel thread.</li>
      <li>How many LWPs to create?</li>
    </ul>
  </li>
  <li>Scheduler activations provide <code class="highlighter-rouge">upcalls</code> - a communication mechanism from the kernel to the <code class="highlighter-rouge">upcall handler</code> in the thread library.</li>
  <li>This communication allows an application to maintain the correct number kernel threads.</li>
</ul>

<h3 id="thread-scheduling">(四) Thread Scheduling</h3>
<ul>
  <li>Distinction between user-level and kernel-level threads.</li>
  <li>When threads supported, threads scheduled, not processes.</li>
  <li>Many-to-one and many-to-many models, thread library schedules user-level threads to run on LWP.
    <ul>
      <li>Known as <code class="highlighter-rouge">process-contention scope (PCS)</code> since scheduling competition is within the process.</li>
      <li>Typically done via priority set by programmer.</li>
    </ul>
  </li>
  <li>Kernel thread scheduled onto available CPU is <code class="highlighter-rouge">system-contention scope (SCS)</code> – competition among all threads in system.</li>
</ul>

<h3 id="pthread-scheduling">(五) Pthread Scheduling</h3>
<ul>
  <li>API allows specifying either PCS or SCS during thread creation.
    <ul>
      <li><code class="highlighter-rouge">PTHREAD_SCOPE_PROCESS</code> schedules threads using PCS scheduling.</li>
      <li><code class="highlighter-rouge">PTHREAD_SCOPE_SYSTEM</code> schedules threads using SCS scheduling.</li>
    </ul>
  </li>
  <li>Can be limited by OS – Linux and Mac OS X only allow <code class="highlighter-rouge">PTHREAD_SCOPE_SYSTEM</code>.</li>
</ul>

<h3 id="multiple-processor-scheduling">(六) Multiple-Processor Scheduling</h3>
<p><img src="https://i.imgur.com/0nuvCJs.jpg" alt="" /></p>

<ul>
  <li>CPU scheduling more complex when multiple CPUs are available.</li>
  <li><code class="highlighter-rouge">Homogeneous processors</code> within a multiprocessor.</li>
  <li><code class="highlighter-rouge">Asymmetric multiprocessing</code> – only one processor accesses the system data structures, alleviating the need for data sharing.</li>
  <li><code class="highlighter-rouge">Symmetric multiprocessing (SMP)</code> – each processor is self-scheduling, all processes in common ready queue, or each has its own private queue of ready processes.
    <ul>
      <li>Currently, most common</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">Processor affinity</code> – process has affinity for processor on which it is currently running.
    <ul>
      <li>soft affinity</li>
      <li>hard affinity</li>
      <li>Variations including <code class="highlighter-rouge">processor sets</code></li>
    </ul>
  </li>
  <li><strong>Load Balancing</strong> - attempts to keep workload evenly distributed.
    <ul>
      <li><code class="highlighter-rouge">Push migration</code> – periodic task checks load on each processor, and if found pushes task from overloaded CPU to other CPUs.</li>
      <li><code class="highlighter-rouge">Pull migration</code> – idle processors pulls waiting task from busy processor.</li>
    </ul>
  </li>
</ul>

<h3 id="socket---message-passing">(七) Socket - Message Passing</h3>

<h4 id="what-is-a-socket">1. What is a socket？</h4>

<ul>
  <li>An interface between application and network.
    <ul>
      <li>The application creates a socket.</li>
      <li>The socket type dictates the style of communication.
        <ul>
          <li><code class="highlighter-rouge">reliable</code> vs. <code class="highlighter-rouge">best effort</code></li>
          <li><code class="highlighter-rouge">connection-oriented</code> vs. <code class="highlighter-rouge">connectionless</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Once configured the application can
    <ul>
      <li>pass data to the socket for network transmission</li>
      <li>receive data from the socket (transmitted through the network by some other host)</li>
    </ul>
  </li>
</ul>

<h4 id="two-essential-types-of-sockets">2. Two essential types of sockets</h4>
<p><img src="https://i.imgur.com/HMu29e3.jpg" alt="" /></p>

<h4 id="sockstream">(1) SOCK_STREAM</h4>
<ul>
  <li>a.k.a. TCP</li>
  <li>reliable delivery</li>
  <li>in-order guaranteed</li>
  <li>connection-oriented</li>
  <li>bidirectional</li>
</ul>

<h4 id="sockdgram">(2) SOCK_DGRAM</h4>
<ul>
  <li>a.k.a. UDP</li>
  <li>unreliable delivery</li>
  <li>no order guarantees</li>
  <li>no notion of “connection” – app indicates dest. for each packet</li>
  <li>can send or receive</li>
</ul>

<h4 id="connection-setup">3. Connection setup</h4>
<p><img src="https://i.imgur.com/Je3VTRz.png" alt="" /></p>

<h3 id="section-1">課程作業</h3>
<ul>
  <li>
    <p>自 Client 端輸入一整數，將數字傳至 Server 端判斷是否為質數，再將結果回傳自 Client。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">client</code> 部份</p>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cm">/*  Make the necessary includes and set up the variables.  */</span>

<span class="cp">#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;stdio.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;arpa/inet.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">sockfd</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">len</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">sockaddr_in</span> <span class="n">address</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">in</span><span class="p">;</span>     <span class="c1">// integer
</span>    <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>
    <span class="c1">// char ch = 'A';
</span>  

<span class="cm">/*  Create a socket for the client.  */</span>

    <span class="n">sockfd</span> <span class="o">=</span> <span class="n">socket</span><span class="p">(</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">SOCK_STREAM</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="cm">/*  Name the socket, as agreed with the server.  */</span>

    <span class="n">address</span><span class="p">.</span><span class="n">sin_family</span> <span class="o">=</span> <span class="n">AF_INET</span><span class="p">;</span>
    <span class="n">address</span><span class="p">.</span><span class="n">sin_addr</span><span class="p">.</span><span class="n">s_addr</span> <span class="o">=</span> <span class="n">inet_addr</span><span class="p">(</span><span class="s">"127.0.0.1"</span><span class="p">);</span>
    <span class="n">address</span><span class="p">.</span><span class="n">sin_port</span> <span class="o">=</span> <span class="mi">9453</span><span class="p">;</span>
    <span class="n">len</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">address</span><span class="p">);</span>

<span class="cm">/*  Now connect our socket to the server's socket.  */</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">connect</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span> <span class="p">(</span><span class="k">struct</span> <span class="n">sockaddr</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">address</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>

    <span class="k">if</span><span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">perror</span><span class="p">(</span><span class="s">"oops: Client"</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>

<span class="cm">/*  We can now read/write via sockfd.  */</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"Please key in an integer："</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">in</span><span class="p">);</span>

    <span class="n">write</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">in</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
    <span class="n">read</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">in</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">in</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Result from Server：數字'是質數'</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">else</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"result from server：數字'不是質數'</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

    <span class="n">close</span><span class="p">(</span><span class="n">sockfd</span><span class="p">);</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">server</code> 部份</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cm">/*  Make the necessary includes and set up the variables.  */</span>

<span class="cp">#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;stdio.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;arpa/inet.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">server_sockfd</span><span class="p">,</span> <span class="n">client_sockfd</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">server_len</span><span class="p">,</span> <span class="n">client_len</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">sockaddr_in</span> <span class="n">server_address</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">sockaddr_in</span> <span class="n">client_address</span><span class="p">;</span>

<span class="cm">/*  Create an unnamed socket for the server.  */</span>

    <span class="n">server_sockfd</span> <span class="o">=</span> <span class="n">socket</span><span class="p">(</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">SOCK_STREAM</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="cm">/*  Name the socket.  */</span>

    <span class="n">server_address</span><span class="p">.</span><span class="n">sin_family</span> <span class="o">=</span> <span class="n">AF_INET</span><span class="p">;</span>
    <span class="n">server_address</span><span class="p">.</span><span class="n">sin_addr</span><span class="p">.</span><span class="n">s_addr</span> <span class="o">=</span> <span class="n">inet_addr</span><span class="p">(</span><span class="s">"127.0.0.1"</span><span class="p">);</span>
    <span class="n">server_address</span><span class="p">.</span><span class="n">sin_port</span> <span class="o">=</span> <span class="mi">9453</span><span class="p">;</span>
    <span class="n">server_len</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">server_address</span><span class="p">);</span>
    <span class="n">bind</span><span class="p">(</span><span class="n">server_sockfd</span><span class="p">,</span> <span class="p">(</span><span class="k">struct</span> <span class="n">sockaddr</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">server_address</span><span class="p">,</span> <span class="n">server_len</span><span class="p">);</span>

<span class="cm">/*  Create a connection queue and wait for clients.  */</span>

    <span class="n">listen</span><span class="p">(</span><span class="n">server_sockfd</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>   <span class="c1">// Set loop
</span>        <span class="kt">char</span> <span class="n">in</span><span class="p">;</span>

        <span class="n">printf</span><span class="p">(</span><span class="s">"Server waiting...</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

<span class="cm">/*  Accept a connection.  */</span>

        <span class="n">client_len</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">client_address</span><span class="p">);</span>
        <span class="n">client_sockfd</span> <span class="o">=</span> <span class="n">accept</span><span class="p">(</span><span class="n">server_sockfd</span><span class="p">,</span> 
            <span class="p">(</span><span class="k">struct</span> <span class="n">sockaddr</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">client_address</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">client_len</span><span class="p">);</span>

<span class="cm">/*  We can now read/write to client on client_sockfd.  */</span>

        <span class="n">read</span><span class="p">(</span><span class="n">client_sockfd</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">in</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Input from Client = %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">in</span><span class="p">);</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">in</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">in</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">count</span><span class="o">++</span><span class="p">;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">in</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">in</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
     
        <span class="n">write</span><span class="p">(</span><span class="n">client_sockfd</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">in</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
        <span class="n">close</span><span class="p">(</span><span class="n">client_sockfd</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<ul>
  <li>執行結果<br />
<img src="https://i.imgur.com/vCZaRoc.jpg" alt="" /></li>
</ul>


                </div>
                <div class="read-all">
                    <a  href="/2017/04/07/linux_system/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/04/06/ai/">20170406 [學習筆記] 人工智慧 (6)</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-04-06
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#人工智慧" title="Category: 人工智慧" rel="category">人工智慧</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#人工智慧" title="Tag: 人工智慧" rel="tag">人工智慧</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#fuzzy--" id="markdown-toc-fuzzy--">(一) Fuzzy 建模 (建立模型)</a></li>
</ul>

<ul>
  <li>參考資源
    <ul>
      <li><a href="http://fuzzy.cs.ovgu.de/ci/fs/">http://fuzzy.cs.ovgu.de/ci/fs/</a></li>
    </ul>
  </li>
</ul>

<h3 id="fuzzy--">(一) Fuzzy 建模 (建立模型)</h3>
<ul>
  <li>
    <p>利用現有的輸入、輸出資料建立模型：<code class="highlighter-rouge">y = f(x1, x2)</code>。<br />
<img src="https://i.imgur.com/F43zJRS.jpg" alt="" /></p>
  </li>
  <li>
    <p>規則表<br />
<img src="https://i.imgur.com/GNcbx9m.jpg" alt="" /></p>
  </li>
</ul>

                </div>
                <div class="read-all">
                    <a  href="/2017/04/06/ai/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/04/03/university_interesting/">20170403 [有感而發] 求學就像是吃餅，怎麼可能一口氣吃得完？當然是要從最有興趣的地方開始慢慢吃啊！</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-04-03
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#未分類" title="Category: 未分類" rel="category">未分類</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#心情記事" title="Tag: 心情記事" rel="tag">心情記事</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">求學，就像是吃一塊漫無邊際的大餅</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">怎麼可能無所不知？不懂就只能坦白承認啦！</a></li>
</ul>

<p><img src="https://i.imgur.com/DOD1Y4C.jpg" alt="" /></p>

<p>今天不談社團，來聊聊其他的。剛剛在看到 Jserv 在網路上發的一篇文：<a href="https://www.facebook.com/microjserv/posts/10155154029752389">https://www.facebook.com/microjserv/posts/10155154029752389</a></p>

<p>讓我聯想到之前國、高中上課發問時的情景 (通常得到的答覆和上文差不多)。但是直到現在大四下學期，我發現自己在大學系上課程中得知的東西仍然有限。我可不希望以後詞窮被問了類似的問題 (以下對話參考自上方連結之原文)：</p>

<p><strong>兒子好奇：「 爸，什麼是電腦？為什麼電腦可以運作？」</strong></p>

<p><strong>我卻只能回答：「 因為爸爸認真工作，乖乖繳交電費，讓你可以使用電腦。 」</strong></p>

<p><strong>兒子不爽：「 … 原來你大學讀電機資訊系就學這些啊，讀了書卻無法正面回答我的問題，這樣讀書有什麼意思呢？你自己讀書沒用，又何必要求我讀書呢？」</strong></p>

<p>上述情境當然有很多地方值得探討，但是以 <strong>「 在體制教育內的求學期間不知道學了些什麼 」</strong> 這個面向來看卻格外諷刺…</p>

<p>而我後來在進行一些更深入的實作和研究時，漸漸發現某些科目學問存在的重要性 (各個領域之間其實彼此都相互連結)。但是那些科目當初在授課時 <strong>「 根本沒有學過 」，</strong> 或者教授說 <strong>「 那些東西在研究所時才會教 」</strong> …。</p>

<p>這時候又會想到那一句老話：「 師父領進門，修行在個人。」我個人認為這句話不完全正確，要是遇到那種 <strong>「 師父不引你進門，卻帶你用頭去撞門。」</strong> 的情況該怎麼辦呢？(還真的得算自己倒霉，認賠殺出？)</p>

<p>(… 唉，又講到傷心事了，回歸正題。)</p>

<h2 id="section">求學，就像是吃一塊漫無邊際的大餅</h2>
<p>我以目前自己所在的電資領域為出發點，先摒除掉「 因為分數剛好，所以就到這裡 」、「 學非所願 」、「 唸到一半才發現這不是我想讀的科系 」…等等原因。</p>

<p>求學就像是吃一塊大得漫無邊際的餅，有無限種吃法，就看你自己想要怎麼吃。試著想像一下：「 這裡有一塊餅，你沒辦法一口氣吃完，該怎麼辦？」</p>

<p>廢話！這麼大塊的餅乾，怎麼可能一口氣吃得完？當然是要從你自己最有興趣的地方開始慢慢吃啊！</p>

<p>一門領域要學的東西有多少，才短短幾年怎麼可能全部都會？至少得從喜歡或者是一個不排斥的東西開始吧？</p>

<h2 id="section-1">怎麼可能無所不知？不懂就只能坦白承認啦！</h2>
<p>…回到最一開始的那一段對話，假設我真的不知道背後的原理，被這樣酸了：</p>

<p><strong>兒子不爽：「 … 原來你大學讀電機資訊系就學這些啊，讀了書卻無法正面回答我的問題，這樣讀書有什麼意思呢？你自己讀書沒用，又何必要求我讀書呢？」</strong></p>

<p>我希望這時候的我可以這樣回答：</p>

<p><strong>我：「 這個東西爸爸不懂，但是你不覺得這個問題很有趣嗎？我們一起來研究為什麼吧！ 」</strong></p>

<p><strong>求學讀書不應該是為了考試，而是為了要更加瞭解這個世界，同時也應該是一件發自內心想要去完成的事情。</strong></p>

                </div>
                <div class="read-all">
                    <a  href="/2017/04/03/university_interesting/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
        </ul>



        <!-- Pagination links -->
        <div class="pagination">
          
            <span class="previous disable"><i class="fa fa-angle-double-left"></i></span>
            <span class="previous disable"><i class="fa fa-angle-left"></i></span>
          
          <span class="page_number ">1/9</span>
          
            <a href="/blog/page2/" class="next"><i class="fa fa-angle-right"></i></a>
            <a href="/blog/page9" class="next"><i class="fa fa-angle-double-right"></i></a>
          
        </div>
    </div>
    <!-- <button class="anchor"><i class="fa fa-anchor"></i></button> -->
    <div class="right">
        <div class="wrap">
            <div class="side">
                <div>
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    Recent Posts
                </div>
                <ul class="content-ul" recent>
                    
                        <li><a href="/2017/04/14/linux_system/">20170414 [學習筆記] Linux 系統程式 (7)</a></li>
                    
                        <li><a href="/2017/04/13/ai/">20170413 [學習筆記] 人工智慧 (7)</a></li>
                    
                        <li><a href="/2017/04/07/linux_system/">20170407 [學習筆記] Linux 系統程式 (6)</a></li>
                    
                        <li><a href="/2017/04/06/ai/">20170406 [學習筆記] 人工智慧 (6)</a></li>
                    
                        <li><a href="/2017/04/03/university_interesting/">20170403 [有感而發] 求學就像是吃餅，怎麼可能一口氣吃得完？當然是要從最有興趣的地方開始慢慢吃啊！</a></li>
                    
                        <li><a href="/2017/03/31/linux_system/">20170331 [學習筆記] Linux 系統程式 (5)</a></li>
                    
                        <li><a href="/2017/03/30/ai/">20170330 [學習筆記] 人工智慧 (5)</a></li>
                    
                        <li><a href="/2017/03/24/linux_system/">20170324 [學習筆記] Linux 系統程式 (4)</a></li>
                    
                        <li><a href="/2017/03/23/ai/">20170323 [學習筆記] 人工智慧 (4)</a></li>
                    
                        <li><a href="/2017/03/22/get_prime/">20170322 [學習筆記] 關於用 Pthread 取質數的問題</a></li>
                    
                </ul>
            </div>

            <!-- Content -->
            <div class="side ">
                <div>
                    <i class="fa fa-th-list"></i>
                    Categories
                </div>
                <ul class="content-ul" cate>
                    
                    <li>
                        <a href="/category/#C語言" class="categories-list-item" cate="C語言">
                            <span class="name">
                                C語言
                            </span>
                            <span class="badge">7</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#OpenCV" class="categories-list-item" cate="OpenCV">
                            <span class="name">
                                OpenCV
                            </span>
                            <span class="badge">3</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Data-Science" class="categories-list-item" cate="Data-Science">
                            <span class="name">
                                Data-Science
                            </span>
                            <span class="badge">8</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#R語言" class="categories-list-item" cate="R語言">
                            <span class="name">
                                R語言
                            </span>
                            <span class="badge">11</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Hackpad" class="categories-list-item" cate="Hackpad">
                            <span class="name">
                                Hackpad
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Git" class="categories-list-item" cate="Git">
                            <span class="name">
                                Git
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Python語言" class="categories-list-item" cate="Python語言">
                            <span class="name">
                                Python語言
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Android" class="categories-list-item" cate="Android">
                            <span class="name">
                                Android
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#專題製作" class="categories-list-item" cate="專題製作">
                            <span class="name">
                                專題製作
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#GitBook" class="categories-list-item" cate="GitBook">
                            <span class="name">
                                GitBook
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#社團" class="categories-list-item" cate="社團">
                            <span class="name">
                                社團
                            </span>
                            <span class="badge">7</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#運動科學" class="categories-list-item" cate="運動科學">
                            <span class="name">
                                運動科學
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#未分類" class="categories-list-item" cate="未分類">
                            <span class="name">
                                未分類
                            </span>
                            <span class="badge">4</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#人工智慧" class="categories-list-item" cate="人工智慧">
                            <span class="name">
                                人工智慧
                            </span>
                            <span class="badge">7</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Linux" class="categories-list-item" cate="Linux">
                            <span class="name">
                                Linux
                            </span>
                            <span class="badge">8</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#作業系統" class="categories-list-item" cate="作業系統">
                            <span class="name">
                                作業系統
                            </span>
                            <span class="badge">8</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#程式設計" class="categories-list-item" cate="程式設計">
                            <span class="name">
                                程式設計
                            </span>
                            <span class="badge">9</span>
                        </a>
                    </li>
                    
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <div class="side">
                <div>
                    <i class="fa fa-tags"></i>
                    Tags
                </div>
                <div class="tags-cloud">
                    
                    
                    
                    
                    

                    
                      
                      
                      
                      
                      
                      <a href="/tag/#C語言" style="font-size: 12.5pt; color: #666;">C語言</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#程式設計" style="font-size: 18pt; color: #000;">程式設計</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#OpenCV" style="font-size: 10pt; color: #888;">OpenCV</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Data-Science" style="font-size: 14pt; color: #444;">Data-Science</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Data-Mining" style="font-size: 13pt; color: #555;">Data-Mining</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#R語言" style="font-size: 14.5pt; color: #333;">R語言</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#版本控制" style="font-size: 9pt; color: #999;">版本控制</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Hackpad" style="font-size: 9pt; color: #999;">Hackpad</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Git" style="font-size: 9pt; color: #999;">Git</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Python語言" style="font-size: 9pt; color: #999;">Python語言</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Android" style="font-size: 9pt; color: #999;">Android</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#專題製作" style="font-size: 9pt; color: #999;">專題製作</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#GitBook" style="font-size: 9pt; color: #999;">GitBook</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#社團" style="font-size: 12.5pt; color: #666;">社團</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#傷害緩解" style="font-size: 9pt; color: #999;">傷害緩解</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#原始點療法" style="font-size: 9pt; color: #999;">原始點療法</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#心情記事" style="font-size: 10.5pt; color: #777;">心情記事</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#人工智慧" style="font-size: 12.5pt; color: #666;">人工智慧</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Linux" style="font-size: 13pt; color: #555;">Linux</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#作業系統" style="font-size: 13pt; color: #555;">作業系統</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Vim" style="font-size: 9pt; color: #999;">Vim</a>
                    
                </div>
            </div>

            <!-- <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul  class="content-ul">

                </ul>
            </div> -->
        </div>
    </div>
</div>
<!-- <script src="/js/scroll.min.js " charset="utf-8"></script> -->
<!-- <script src="/js/pageContent.js " charset="utf-8"></script> -->



    <footer class="site-footer">


  <div class="wrapper">
     <p class="cc - icon">
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/tw/"><img alt="創用 CC 授權條款" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/3.0/tw/88x31.png" /></a>
      </p>


      <p class="description">
          
          Martial Artist、Traceur & Engineer!
          
      </p>


        <p class="contact">
            Contact me at:
            
            <a href="https://github.com/shouzo"><i class="fa fa-github" aria-hidden="true"></i></a>
            

            
            <a href="mailto:danny200026@yahoo.com.tw"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>
            

            

            

            

            
            <a href="https://www.facebook.com/danny200026"><i class="fa fa-facebook-official" aria-hidden="true"></i></a>
            
        </p>


        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
            <span>
                Theme designed by <a href="https://github.com/Gaohaoyang">HyG</a>.
            </span>
            <span>
                <br> 除非另有註明，本部落格內容皆採用 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/tw/"> 創用 CC 姓名標示-非商業性-相同方式分享 3.0 台灣 </a> 授權條款
            </span>
        </p>

  </div>
	
	
	<div class="realtimeuserscounter realtimeuserscounter--styled"></div>
	<script src="https://realtimeusers.bycontrast.co/realtimeusers.js"></script>
	
</footer>
<script src="/js/main.js " charset="utf-8"></script>
    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
