I"­<ul id="markdown-toc">
  <li><a href="#ä¸€ä½œæ¥­ç³»çµ±" id="markdown-toc-ä¸€ä½œæ¥­ç³»çµ±">ä¸€ã€ä½œæ¥­ç³»çµ±</a>    <ul>
      <li><a href="#ä¸€-process-in-memory" id="markdown-toc-ä¸€-process-in-memory">(ä¸€) Process in Memory</a></li>
      <li><a href="#äºŒ-process-state" id="markdown-toc-äºŒ-process-state">(äºŒ) Process State</a></li>
      <li><a href="#ä¸‰-process-control-block-pcb" id="markdown-toc-ä¸‰-process-control-block-pcb">(ä¸‰) Process Control Block (PCB)</a></li>
      <li><a href="#å››-process-switch" id="markdown-toc-å››-process-switch">(å››) Process Switch</a></li>
      <li><a href="#äº”-processthread" id="markdown-toc-äº”-processthread">(äº”) Processã€Thread</a></li>
      <li><a href="#å…­-process-scheduling" id="markdown-toc-å…­-process-scheduling">(å…­) Process Scheduling</a>        <ul>
          <li><a href="#schedulers" id="markdown-toc-schedulers">Schedulers</a></li>
          <li><a href="#processes" id="markdown-toc-processes">Processes</a></li>
        </ul>
      </li>
      <li><a href="#ä¸ƒ-process-creation" id="markdown-toc-ä¸ƒ-process-creation">(ä¸ƒ) Process Creation</a></li>
    </ul>
  </li>
</ul>

<h2 id="ä¸€ä½œæ¥­ç³»çµ±">ä¸€ã€ä½œæ¥­ç³»çµ±</h2>
<ul>
  <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170309/ch03.pdf">èª²ç¨‹ç°¡å ± - Ch3ï¼šProcess Concept</a></li>
</ul>

<h3 id="ä¸€-process-in-memory">(ä¸€) Process in Memory</h3>
<p><img src="https://i.imgur.com/I9HnU1O.jpg" alt="" /></p>

<h3 id="äºŒ-process-state">(äºŒ) Process State</h3>
<p><img src="https://i.imgur.com/mFSgwiJ.jpg" alt="" /></p>
<ul>
  <li><strong>new</strong>: The process is being created.</li>
  <li><strong>running</strong>: Instructions are being executed.</li>
  <li><strong>waiting</strong>: The process is waiting for some event to occur.</li>
  <li><strong>ready</strong>: The process is waiting to be assigned to a processor.</li>
  <li><strong>terminated</strong>: The process has finished execution.</li>
</ul>

<h3 id="ä¸‰-process-control-block-pcb">(ä¸‰) Process Control Block (PCB)</h3>
<p><img src="https://i.imgur.com/fOf7e2Q.jpg" alt="" /></p>

<h3 id="å››-process-switch">(å››) Process Switch</h3>
<p><img src="https://i.imgur.com/Bto5DiZ.jpg" alt="" /></p>

<h3 id="äº”-processthread">(äº”) Processã€Thread</h3>
<ul>
  <li>åƒè€ƒè³‡æ–™
    <ul>
      <li><a href="https://goo.gl/whe9F">Program / Process / Thread çš„å·®åˆ¥</a></li>
      <li><a href="https://goo.gl/5BnKWN">â€œProcess è¡Œç¨‹â€ã€â€Thread åŸ·è¡Œç·’â€ã€â€Multithreading å¤šåŸ·è¡Œç·’â€ ç°¡ä»‹</a>
<img src="https://i.imgur.com/DI9y5OS.jpg" alt="" /></li>
    </ul>
  </li>
</ul>

<h3 id="å…­-process-scheduling">(å…­) Process Scheduling</h3>
<ul>
  <li>Process scheduler selects among available processes for next execution on CPU.</li>
  <li>Maintains scheduling queues of processes.
    <ul>
      <li>Job queue â€“ set of all processes in the system.</li>
      <li>Ready queue â€“ set of all processes residing in main memory, ready and waiting to
execute.</li>
      <li>Device queues â€“ set of processes waiting for an I/O device.</li>
      <li>Processes migrate among the various queues.</li>
    </ul>
  </li>
</ul>

<h4 id="schedulers">Schedulers</h4>
<ul>
  <li><strong>Long-term scheduler</strong> (or job scheduler) â€“ selects which processes should be brought into the
ready queue.</li>
  <li><strong>Short-term scheduler</strong> (or CPU scheduler) â€“ selects which process should be executed next and
allocates CPU.
    <ul>
      <li>Sometimes the only scheduler in a system.</li>
    </ul>
  </li>
  <li>The long-term scheduler controls the <strong>degree of multiprogramming</strong>.</li>
  <li><strong>Medium-term scheduler</strong> can be added if degree of multiple programming needs to decrease.
    <ul>
      <li>Remove process from memory, store on disk, bring back in from disk to continue execution:
swapping.</li>
    </ul>
  </li>
</ul>

<p><strong><a href="http://enews.open2u.com.tw/~noupd/book_up/1746/8719.htm">Degree of multiprogramming</a></strong>ï¼šå¤šå·¥ç¨‹åº¦ã€è¨˜æ†¶é«”ä¸­è¡Œç¨‹çš„ç¸½æ•¸é‡</p>

<h4 id="processes">Processes</h4>
<ul>
  <li><strong>I/O-bound process</strong> â€“ spends more time doing I/O than computations, many short CPU
bursts.
    <ul>
      <li>è¡Œç¨‹å¤§éƒ¨ä»½çš„æ™‚é–“åœ¨åš I/Oï¼Œåªæœ‰å°‘éƒ¨ä»½çš„æ™‚é–“åœ¨åšè¨ˆç®—ã€‚</li>
    </ul>
  </li>
  <li><strong>CPU-bound process</strong> â€“ spends more time doing computations; few very long CPU bursts.
    <ul>
      <li>è¡Œç¨‹å¤§éƒ¨ä»½çš„æ™‚é–“åœ¨åšè¨ˆç®—ï¼Œåªæœ‰å°‘éƒ¨ä»½çš„æ™‚é–“åœ¨åš  I/Oã€‚</li>
    </ul>
  </li>
</ul>

<p><img src="https://i.imgur.com/Xnhn0Sa.jpg" alt="" /></p>

<h3 id="ä¸ƒ-process-creation">(ä¸ƒ) Process Creation</h3>
<p><img src="https://i.imgur.com/MDkGD81.jpg" alt="" /></p>
<ul>
  <li>UNIX examples
    <ul>
      <li><strong>fork()</strong>ï¼šsystem call creates new process</li>
      <li><strong>exec()</strong>ï¼šsystem call used after a fork() to replace the processâ€™ memory space with a new program</li>
    </ul>
  </li>
</ul>

<p><img src="https://i.imgur.com/AxrT24a.jpg" alt="" /></p>

<ul>
  <li>èª²ç¨‹ä½œæ¥­</li>
</ul>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;sys/types.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;unistd.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">pid_t</span> <span class="n">pid</span><span class="p">;</span>
	
<span class="cm">/* fork a child process */</span>
	<span class="n">pid</span> <span class="o">=</span> <span class="n">fork</span><span class="p">();</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">pid</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>		<span class="c1">// erro occurred</span>
		<span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"Fork Failed"</span><span class="p">);</span>
		<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">pid</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>	<span class="c1">// child process</span>
		<span class="n">execlp</span><span class="p">(</span><span class="s">"/bin/ls"</span><span class="p">,</span> <span class="s">"ls"</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>			<span class="c1">// parent process</span>
		<span class="c1">// parent will wait for the child to complete</span>
		<span class="n">wait</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"Child Complete</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
	<span class="p">}</span>	
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ</li>
</ul>

<p><img src="https://i.imgur.com/CfTMr9N.jpg" alt="" /></p>
:ET