I"õn<ul id="markdown-toc">
  <li><a href="#ä¸€ä½œæ¥­ç³»çµ±" id="markdown-toc-ä¸€ä½œæ¥­ç³»çµ±">ä¸€ã€ä½œæ¥­ç³»çµ±</a>    <ul>
      <li><a href="#ä¸€-deadlock-characterization" id="markdown-toc-ä¸€-deadlock-characterization">(ä¸€) Deadlock Characterization</a></li>
      <li><a href="#äºŒ-resource-allocation-graph" id="markdown-toc-äºŒ-resource-allocation-graph">(äºŒ) Resource-Allocation Graph</a>        <ul>
          <li><a href="#1-example" id="markdown-toc-1-example">1. Example</a></li>
          <li><a href="#2-basic-facts" id="markdown-toc-2-basic-facts">2. Basic Facts</a></li>
          <li><a href="#3-methods-for-handling-deadlocks" id="markdown-toc-3-methods-for-handling-deadlocks">3. Methods for Handling Deadlocks</a></li>
        </ul>
      </li>
      <li><a href="#ä¸‰-deadlock-prevention" id="markdown-toc-ä¸‰-deadlock-prevention">(ä¸‰) Deadlock Prevention</a>        <ul>
          <li><a href="#1-example-1" id="markdown-toc-1-example-1">1. Example</a></li>
          <li><a href="#2-deadlock-avoidance" id="markdown-toc-2-deadlock-avoidance">2. Deadlock Avoidance</a></li>
          <li><a href="#3-safe-state" id="markdown-toc-3-safe-state">3. Safe State</a></li>
          <li><a href="#4-basic-facts" id="markdown-toc-4-basic-facts">4. Basic Facts</a></li>
          <li><a href="#5-safe-unsafe-deadlock-state" id="markdown-toc-5-safe-unsafe-deadlock-state">5. Safe, Unsafe, Deadlock State</a></li>
          <li><a href="#6-avoidance-algorithms" id="markdown-toc-6-avoidance-algorithms">6. Avoidance algorithms</a></li>
          <li><a href="#7-resource-allocation-graph" id="markdown-toc-7-resource-allocation-graph">7. Resource-Allocation Graph</a></li>
          <li><a href="#8-algorithm" id="markdown-toc-8-algorithm">8. Algorithm</a>            <ul>
              <li><a href="#1-data-structures-for-the-bankers-algorithm" id="markdown-toc-1-data-structures-for-the-bankers-algorithm">(1) Data Structures for the Bankerâ€™s Algorithm</a></li>
              <li><a href="#2-safety-algorithm" id="markdown-toc-2-safety-algorithm">(2) Safety Algorithm</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#äºŒlinux-ç¨‹å¼è¨­è¨ˆ" id="markdown-toc-äºŒlinux-ç¨‹å¼è¨­è¨ˆ">äºŒã€Linux ç¨‹å¼è¨­è¨ˆ</a>    <ul>
      <li><a href="#ä¸€-shell-ç°¡ä»‹" id="markdown-toc-ä¸€-shell-ç°¡ä»‹">(ä¸€) Shell ç°¡ä»‹</a></li>
      <li><a href="#äºŒ-è®Šæ•¸-variables" id="markdown-toc-äºŒ-è®Šæ•¸-variables">(äºŒ) è®Šæ•¸ (variables)</a></li>
      <li><a href="#ä¸‰-å¼•è™Ÿ-quoting" id="markdown-toc-ä¸‰-å¼•è™Ÿ-quoting">(ä¸‰) å¼•è™Ÿ (quoting)</a></li>
      <li><a href="#å››-æ¢ä»¶åˆ¤æ–·-condition" id="markdown-toc-å››-æ¢ä»¶åˆ¤æ–·-condition">(å››) æ¢ä»¶åˆ¤æ–· (condition)</a></li>
      <li><a href="#äº”-æ§åˆ¶çµæ§‹---if" id="markdown-toc-äº”-æ§åˆ¶çµæ§‹---if">(äº”) æ§åˆ¶çµæ§‹ - if</a></li>
      <li><a href="#å…­-æ§åˆ¶çµæ§‹---elif" id="markdown-toc-å…­-æ§åˆ¶çµæ§‹---elif">(å…­) æ§åˆ¶çµæ§‹ - elif</a></li>
      <li><a href="#ä¸ƒ-æ§åˆ¶çµæ§‹---for" id="markdown-toc-ä¸ƒ-æ§åˆ¶çµæ§‹---for">(ä¸ƒ) æ§åˆ¶çµæ§‹ - for</a>        <ul>
          <li><a href="#example-1" id="markdown-toc-example-1">Example 1</a></li>
          <li><a href="#example-2" id="markdown-toc-example-2">Example 2</a></li>
        </ul>
      </li>
      <li><a href="#å…«-æ§åˆ¶çµæ§‹---while" id="markdown-toc-å…«-æ§åˆ¶çµæ§‹---while">(å…«) æ§åˆ¶çµæ§‹ - while</a>        <ul>
          <li><a href="#example-1-1" id="markdown-toc-example-1-1">Example 1</a></li>
          <li><a href="#example-2-1" id="markdown-toc-example-2-1">Example 2</a></li>
          <li><a href="#example-3" id="markdown-toc-example-3">Example 3</a></li>
        </ul>
      </li>
      <li><a href="#ä¹-æ§åˆ¶çµæ§‹---case" id="markdown-toc-ä¹-æ§åˆ¶çµæ§‹---case">(ä¹) æ§åˆ¶çµæ§‹ - case</a>        <ul>
          <li><a href="#example-1-2" id="markdown-toc-example-1-2">Example 1</a></li>
          <li><a href="#example-2-2" id="markdown-toc-example-2-2">Example 2</a></li>
        </ul>
      </li>
      <li><a href="#å-æ§åˆ¶çµæ§‹---and" id="markdown-toc-å-æ§åˆ¶çµæ§‹---and">(å) æ§åˆ¶çµæ§‹ - AND</a>        <ul>
          <li><a href="#example-1-3" id="markdown-toc-example-1-3">Example 1</a></li>
        </ul>
      </li>
      <li><a href="#åä¸€-æ§åˆ¶çµæ§‹---or" id="markdown-toc-åä¸€-æ§åˆ¶çµæ§‹---or">(åä¸€) æ§åˆ¶çµæ§‹ - OR</a>        <ul>
          <li><a href="#example-1-4" id="markdown-toc-example-1-4">Example 1</a></li>
        </ul>
      </li>
      <li><a href="#èª²å ‚ä½œæ¥­" id="markdown-toc-èª²å ‚ä½œæ¥­">èª²å ‚ä½œæ¥­</a></li>
    </ul>
  </li>
</ul>

<h2 id="ä¸€ä½œæ¥­ç³»çµ±">ä¸€ã€ä½œæ¥­ç³»çµ±</h2>
<ul>
  <li>èª²å ‚è¬›ç¾©
    <ul>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170511/ch07.pdf">Chapter 7: Deadlocks</a></li>
    </ul>
  </li>
</ul>

<h3 id="ä¸€-deadlock-characterization">(ä¸€) Deadlock Characterization</h3>
<ul>
  <li><strong>Mutual exclusion</strong>ï¼šonly one process at a time can use a resource.</li>
  <li><strong>Hold and wait</strong>ï¼ša process holding at least one resource is waiting to acquire additional resources held by other processes.</li>
  <li><strong>No preemption</strong>ï¼ša resource can be released only voluntarily by the process holding it, after that process has completed its task.</li>
  <li><strong>Circular wait</strong>ï¼šthere exists a set {P0, P1, â€¦, Pn } of waiting processes such that P0 is waiting for a resource that is held by P1, P1 is waiting for a resource that is held by P2 , â€¦, Pnâ€“1 is waiting for a resource that is held by Pn, and Pn is waiting for a resource that is held by P0.</li>
  <li>Deadlocks can occur via system calls, locking, etc</li>
</ul>

<h3 id="äºŒ-resource-allocation-graph">(äºŒ) Resource-Allocation Graph</h3>
<p><img src="https://i.imgur.com/ruQSE03.png" alt="" />
<img src="https://i.imgur.com/jSnZ1nO.png" alt="" /></p>

<h4 id="1-example">1. Example</h4>
<ul>
  <li>
    <p>Resource Allocation Graph
<img src="https://i.imgur.com/e10FFPp.png" alt="" /></p>
  </li>
  <li>
    <p>Resource Allocation Graph With A Deadlock
<img src="https://i.imgur.com/t2UkKLi.png" alt="" /></p>
  </li>
  <li>
    <p>Graph With A Cycle But No Deadlock
<img src="https://i.imgur.com/3mqHz5J.png" alt="" /></p>
  </li>
</ul>

<h4 id="2-basic-facts">2. Basic Facts</h4>
<ul>
  <li>If graph contains no cyclesÂ Â» no deadlock</li>
  <li>If graph contains a cycle
    <ul>
      <li>if only one instance per resource type, then deadlock</li>
      <li>if several instances per resource type, possibility of deadlock</li>
    </ul>
  </li>
</ul>

<h4 id="3-methods-for-handling-deadlocks">3. Methods for Handling Deadlocks</h4>
<ul>
  <li>Ensure that the system will never enter a deadlock state</li>
  <li>Allow the system to enter a deadlock state and then recover</li>
  <li>Ignore the problem and pretend that deadlocks never occur in the system; used by most operating systems, including UNIX</li>
</ul>

<h3 id="ä¸‰-deadlock-prevention">(ä¸‰) Deadlock Prevention</h3>
<ul>
  <li><strong>Mutual Exclusion</strong>ï¼šnot required for sharable resources; must hold for nonsharable resources</li>
  <li><strong>Hold and Wait</strong>ï¼šmust guarantee that whenever a process requests a resource, it does not hold any other resources
    <ul>
      <li>Require process to request and be allocated all its resources before it begins execution, or allow process to request resources only when the process has none</li>
      <li>Low resource utilization; starvation possible</li>
    </ul>
  </li>
  <li><strong>No Preemption</strong>ï¼š
    <ul>
      <li>If a process that is holding some resources requests another resource that cannot be immediately allocated to it, then all resources currently being held are released</li>
      <li>Preempted resources are added to the list of resources for which the process is waiting</li>
      <li>Process will be restarted only when it can regain its old resources, as well as the new ones that it is requesting</li>
    </ul>
  </li>
  <li><strong>Circular Wait</strong>ï¼šimpose a total ordering of all resource types, and require that each process requests resources in an increasing order of enumeration</li>
</ul>

<h4 id="1-example-1">1. Example</h4>
<ul>
  <li>Deadlock Example</li>
</ul>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* thread one runs in this function */</span>
<span class="kt">void</span> <span class="o">*</span><span class="k">do</span> <span class="n">work</span> <span class="nf">one</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">param</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">pthread</span> <span class="n">mutex</span> <span class="n">lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">first</span> <span class="n">mutex</span><span class="p">);</span>
    <span class="n">pthread</span> <span class="n">mutex</span> <span class="n">lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">second</span> <span class="n">mutex</span><span class="p">);</span>
    <span class="cm">/** * Do some work */</span>
    <span class="n">pthread</span> <span class="n">mutex</span> <span class="n">unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">second</span> <span class="n">mutex</span><span class="p">);</span>
    <span class="n">pthread</span> <span class="n">mutex</span> <span class="n">unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">first</span> <span class="n">mutex</span><span class="p">);</span>
    <span class="n">pthread</span> <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* thread two runs in this function */</span>
<span class="kt">void</span> <span class="o">*</span><span class="k">do</span> <span class="n">work</span> <span class="nf">two</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">param</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">pthread</span> <span class="n">mutex</span> <span class="n">lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">second</span> <span class="n">mutex</span><span class="p">);</span>
    <span class="n">pthread</span> <span class="n">mutex</span> <span class="n">lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">first</span> <span class="n">mutex</span><span class="p">);</span>
    <span class="cm">/** * Do some work */</span>
    <span class="n">pthread</span> <span class="n">mutex</span> <span class="n">unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">first</span> <span class="n">mutex</span><span class="p">);</span>
    <span class="n">pthread</span> <span class="n">mutex</span> <span class="n">unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">second</span> <span class="n">mutex</span><span class="p">);</span>
    <span class="n">pthread</span> <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>Deadlock Example with Lock Ordering</li>
</ul>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">transaction</span><span class="p">(</span><span class="n">Account</span> <span class="n">from</span><span class="p">,</span> <span class="n">Account</span> <span class="n">to</span><span class="p">,</span> <span class="kt">double</span> <span class="n">amount</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">mutex</span> <span class="n">lock1</span><span class="p">,</span> <span class="n">lock2</span><span class="p">;</span>
    <span class="n">lock1</span> <span class="o">=</span> <span class="n">get</span> <span class="n">lock</span><span class="p">(</span><span class="n">from</span><span class="p">);</span>
    <span class="n">lock2</span> <span class="o">=</span> <span class="n">get</span> <span class="n">lock</span><span class="p">(</span><span class="n">to</span><span class="p">);</span>
    <span class="n">acquire</span><span class="p">(</span><span class="n">lock1</span><span class="p">);</span>
    <span class="n">acquire</span><span class="p">(</span><span class="n">lock2</span><span class="p">);</span>
    <span class="n">withdraw</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">amount</span><span class="p">);</span>
    <span class="n">deposit</span><span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="n">amount</span><span class="p">);</span>
    <span class="n">release</span><span class="p">(</span><span class="n">lock2</span><span class="p">);</span>
    <span class="n">release</span><span class="p">(</span><span class="n">lock1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="2-deadlock-avoidance">2. Deadlock Avoidance</h4>
<ul>
  <li>Requires that the system has some additional a priori information available
    <ul>
      <li>Simplest and most useful model requires that each process declare the <strong>maximum number</strong> of resources of each type that it may need</li>
      <li>The deadlock-avoidance algorithm dynamically examines the resource-allocation state to ensure that there can never be a circular-wait condition</li>
      <li>Resource-allocation state is defined by the number of available and allocated resources, and the maximum demands of the processes</li>
    </ul>
  </li>
</ul>

<h4 id="3-safe-state">3. Safe State</h4>
<p><img src="https://i.imgur.com/Qzeh5D8.png" alt="" /></p>

<h4 id="4-basic-facts">4. Basic Facts</h4>
<ul>
  <li>If a system is in safe stateÂ Â» no deadlocks</li>
  <li>If a system is in unsafe stateÂ Â» possibility of deadlock</li>
  <li>AvoidanceÂ Â» ensure that a system will never enter an unsafe state</li>
</ul>

<h4 id="5-safe-unsafe-deadlock-state">5. Safe, Unsafe, Deadlock State</h4>
<p><img src="https://i.imgur.com/Y7KEMVp.png" alt="" /></p>

<h4 id="6-avoidance-algorithms">6. Avoidance algorithms</h4>
<ul>
  <li>Single instance of a resource type
    <ul>
      <li>Use a resource-allocation graph</li>
    </ul>
  </li>
  <li>Multiple instances of a resource type
    <ul>
      <li>Use the bankerâ€™s algorithm</li>
    </ul>
  </li>
</ul>

<h4 id="7-resource-allocation-graph">7. Resource-Allocation Graph</h4>
<p><img src="https://i.imgur.com/aUkipvw.png" alt="" />
<img src="http://i.imgur.com/RtDzuXQ.jpg" alt="" /></p>

<h4 id="8-algorithm">8. Algorithm</h4>
<h5 id="1-data-structures-for-the-bankers-algorithm">(1) Data Structures for the Bankerâ€™s Algorithm</h5>
<p><img src="http://i.imgur.com/Z9SQSCC.png" alt="" /></p>

<ul>
  <li>Example
<img src="http://i.imgur.com/IMSADSw.png" alt="" />
<img src="http://i.imgur.com/CnQFX9s.png" alt="" /></li>
</ul>

<h5 id="2-safety-algorithm">(2) Safety Algorithm</h5>
<p><img src="http://i.imgur.com/V6oA8hC.png" alt="" /></p>

<h2 id="äºŒlinux-ç¨‹å¼è¨­è¨ˆ">äºŒã€Linux ç¨‹å¼è¨­è¨ˆ</h2>
<ul>
  <li>èª²ç¨‹ç°¡å ±
    <ul>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170512/Linux_shell.pdf">Linux_shell</a></li>
      <li><a href="https://github.com/shouzo/Operating-System_pages/blob/master/class-tutorial/20170512/Shell_practice.pdf">Shell_practice</a></li>
    </ul>
  </li>
  <li>åƒè€ƒè³‡æ–™
    <ul>
      <li><a href="http://linux.vbird.org/linux_basic/0340bashshell-scripts.php#script_why">å­¸ç¿’ Shell Scripts</a></li>
    </ul>
  </li>
</ul>

<h3 id="ä¸€-shell-ç°¡ä»‹">(ä¸€) Shell ç°¡ä»‹</h3>
<ul>
  <li>Shell æ˜¯ä½¿ç”¨è€…èˆ‡ Linux ç³»çµ±çš„ä»‹é¢ï¼Œå¯ä»¥è¼¸å…¥å‘½ä»¤ï¼Œäº¤ç”±ä½œæ¥­ç³»çµ±å»åŸ·è¡Œã€‚
    <ul>
      <li>Shell å¿«é€Ÿä¸”ç°¡å–®</li>
      <li>Shell ä¸€èˆ¬ç¨±ç‚º script</li>
      <li>ç›´è­¯å¼åŸ·è¡Œï¼Œå®¹æ˜“é™¤éŒ¯</li>
    </ul>
  </li>
</ul>

<p><img src="https://i.imgur.com/xadWBBf.png" alt="" /></p>

<h3 id="äºŒ-è®Šæ•¸-variables">(äºŒ) è®Šæ•¸ (variables)</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nv">salutation</span><span class="o">=</span>Hello
<span class="nb">echo</span> <span class="nv">$salutation</span>

<span class="nv">salutation</span><span class="o">=</span><span class="s2">"Yes Dear"</span>
<span class="nb">echo</span> <span class="nv">$salutation</span>

<span class="nv">salutation</span><span class="o">=</span>7+5
<span class="nb">echo</span> <span class="nv">$salutation</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/jaY3g8G.png" alt="" /></li>
</ul>

<h3 id="ä¸‰-å¼•è™Ÿ-quoting">(ä¸‰) å¼•è™Ÿ (quoting)</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nv">myvar</span><span class="o">=</span><span class="s2">"Hi there"</span>

<span class="nb">echo</span> <span class="nv">$myvar</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$myvar</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s1">'$myvar'</span>
<span class="nb">echo</span> <span class="se">\$</span>myvar

<span class="nb">echo</span> <span class="s2">"Please enter something..."</span>
<span class="nb">read </span>myvar
<span class="nb">echo</span> <span class="nv">$myvar</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/NobGb6l.png" alt="" /></li>
</ul>

<h3 id="å››-æ¢ä»¶åˆ¤æ–·-condition">(å››) æ¢ä»¶åˆ¤æ–· (condition)</h3>
<p><img src="https://i.imgur.com/enjX7FA.png" alt="" />
<img src="https://i.imgur.com/nVZTV1F.png" alt="" /></p>

<h3 id="äº”-æ§åˆ¶çµæ§‹---if">(äº”) æ§åˆ¶çµæ§‹ - if</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nb">echo</span> <span class="s2">"Is it morning ?"</span>
<span class="nb">read </span>timeofday

<span class="k">if</span> <span class="o">[</span> <span class="nv">$timeofday</span> <span class="o">=</span> <span class="s2">"yes"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Good morning"</span>
<span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"Good afternoon"</span>
<span class="k">fi</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/lSzTfpI.png" alt="" /></li>
</ul>

<h3 id="å…­-æ§åˆ¶çµæ§‹---elif">(å…­) æ§åˆ¶çµæ§‹ - elif</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nb">echo</span> <span class="s2">"Is it morning ?"</span>
<span class="nb">read </span>timeofday

<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$timeofday</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"yes"</span> <span class="o">]</span>
<span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Good morning"</span>

<span class="k">elif</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$timeofday</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"no"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Good afternoon"</span>

<span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"Sorry, </span><span class="nv">$timeofday</span><span class="s2"> not recognized"</span>
<span class="k">fi</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/6T6jDMe.png" alt="" /></li>
</ul>

<h3 id="ä¸ƒ-æ§åˆ¶çµæ§‹---for">(ä¸ƒ) æ§åˆ¶çµæ§‹ - for</h3>
<h5 id="example-1">Example 1</h5>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="k">for </span>foo <span class="k">in </span>bar fud 43
<span class="k">do
</span><span class="nb">echo</span> <span class="nv">$foo</span>
<span class="k">done</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/rfV1Ra5.png" alt="" /></li>
</ul>

<h5 id="example-2">Example 2</h5>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="k">for </span>i <span class="k">in </span>1 2 3
<span class="k">do
</span><span class="nb">echo</span> <span class="nv">$i</span>
<span class="k">done</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/0h1Rraa.png" alt="" /></li>
</ul>

<h3 id="å…«-æ§åˆ¶çµæ§‹---while">(å…«) æ§åˆ¶çµæ§‹ - while</h3>
<h5 id="example-1-1">Example 1</h5>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nb">echo</span> <span class="s2">"Enter password"</span>
<span class="nb">read </span>trythis
    
<span class="k">while</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$trythis</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">"secret"</span> <span class="o">]</span><span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"Sorry, try again"</span>
    <span class="nb">read </span>trythis
<span class="k">done</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/bLumx82.png" alt="" /></li>
</ul>

<h5 id="example-2-1">Example 2</h5>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nv">foo</span><span class="o">=</span>1

<span class="k">while</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$foo</span><span class="s2">"</span> <span class="nt">-le</span> 20 <span class="o">]</span>
<span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"Here we go again"</span>
    <span class="nv">foo</span><span class="o">=</span><span class="k">$((</span><span class="nv">$foo</span><span class="o">+</span><span class="m">1</span><span class="k">))</span>
<span class="k">done
</span><span class="nb">exit </span>0
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/tr0Zi4C.png" alt="" /></li>
</ul>

<h5 id="example-3">Example 3</h5>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nv">x</span><span class="o">=</span>0

<span class="k">while</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$x</span><span class="s2">"</span> <span class="nt">-ne</span> 10 <span class="o">]</span><span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> <span class="nv">$x</span>
    <span class="nv">x</span><span class="o">=</span><span class="k">$((</span><span class="nv">$x</span><span class="o">+</span><span class="m">1</span><span class="k">))</span>
<span class="k">done
</span><span class="nb">exit </span>0
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/eeuK6q3.png" alt="" /></li>
</ul>

<h3 id="ä¹-æ§åˆ¶çµæ§‹---case">(ä¹) æ§åˆ¶çµæ§‹ - case</h3>
<h5 id="example-1-2">Example 1</h5>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nb">echo</span> <span class="s2">"Is it morning? Please answer 'Yes'ã€'y'ã€'No'ã€'n'"</span>
<span class="nb">read </span>timeofday

<span class="k">case</span> <span class="s2">"</span><span class="nv">$timeofday</span><span class="s2">"</span> <span class="k">in
	</span>Yes<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Good Morning"</span> <span class="p">;;</span>
	No<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Good Aftrenoon"</span> <span class="p">;;</span>
	y<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Good Morning"</span> <span class="p">;;</span>
	n<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Good Aftrenoon"</span> <span class="p">;;</span>
	<span class="k">*</span><span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Sorry, answer not recognized"</span> <span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/Hnaa66Y.png" alt="" /></li>
</ul>

<h5 id="example-2-2">Example 2</h5>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nb">echo</span> <span class="s2">"Is it morning? Please answer 'Yes'ã€'Y...'ã€'y'ã€'No'ã€'N...'ã€'n'"</span>
<span class="nb">read </span>timeofday

<span class="k">case</span> <span class="s2">"</span><span class="nv">$timeofday</span><span class="s2">"</span> <span class="k">in
    </span>Y<span class="k">*</span> <span class="p">|</span> y <span class="p">|</span> Yes<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Good Morning"</span> <span class="p">;;</span>
    N<span class="k">*</span> <span class="p">|</span> n <span class="p">|</span> No<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Good Aftrenoon"</span> <span class="p">;;</span>
    <span class="k">*</span><span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Sorry, answer not recognized"</span> <span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/Opd1dfC.png" alt="" /></li>
</ul>

<h3 id="å-æ§åˆ¶çµæ§‹---and">(å) æ§åˆ¶çµæ§‹ - AND</h3>
<h5 id="example-1-3">Example 1</h5>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nb">touch </span>file_one
<span class="nb">rm </span>file_two

<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> file_one <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"hello"</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="nt">-f</span> file_two <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"there"</span>
<span class="k">then 
    </span><span class="nb">echo</span> <span class="s2">"in if"</span>
<span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"in else"</span>
<span class="k">fi

</span><span class="nb">exit </span>0
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/P3wITc9.png" alt="" /></li>
</ul>

<h3 id="åä¸€-æ§åˆ¶çµæ§‹---or">(åä¸€) æ§åˆ¶çµæ§‹ - OR</h3>
<h5 id="example-1-4">Example 1</h5>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nb">rm</span> â€“f file_one

<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> file_one <span class="o">]</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"hello"</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"there"</span>
<span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"in if"</span>
<span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"in else"</span>
<span class="k">fi

</span><span class="nb">exit </span>0
</code></pre></div></div>

<ul>
  <li>åŸ·è¡Œçµæœ
<img src="https://i.imgur.com/POqHcOx.png" alt="" /></li>
</ul>

<h3 id="èª²å ‚ä½œæ¥­">èª²å ‚ä½œæ¥­</h3>
<p><img src="https://i.imgur.com/UYMl9ZM.png" alt="" /></p>

:ET